---
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
import Hero from '../components/Hero.astro';
import Button from '../components/Button.astro';
import '../styles/global.css';

const heroStats = [
  { value: '30,000+', label: 'Students per year' },
  { value: '90+', label: 'Years of experience' },
  { value: '15', label: 'Centers in Spain' }
];
---

<Layout title="British Council Spain - Learn English with the World's English Experts">
  <Header />

  <main>
    <!-- Hero Section -->
    <Hero
      title="Learn English with the world's English experts"
      subtitle="Join over 30,000 students who trust British Council Spain every year to achieve their professional and personal goals."
      ctaPrimary={{ text: 'Explore Courses', href: '/courses' }}
      ctaSecondary={{ text: 'Take Free Test', href: '/level-test' }}
      stats={heroStats}
    />

    <!-- 90 Years Heritage Banner -->
    <section class="relative overflow-hidden" style="background: linear-gradient(135deg, #e8d9f5 0%, #dcc6f0 50%, #e8d9f5 100%);">
      <!-- Decorative pattern -->
      <div class="absolute inset-0 opacity-30">
        <div class="absolute top-0 left-0 w-full h-full" style="background: radial-gradient(circle at 25% 50%, rgba(255, 255, 255, 0.5) 0%, transparent 50%), radial-gradient(circle at 75% 50%, rgba(183, 148, 212, 0.3) 0%, transparent 50%);"></div>
      </div>

      <div class="bc-container relative z-10">
        <div class="py-4 md:py-5 flex flex-col md:flex-row items-center justify-center gap-3 md:gap-6">
          <!-- Custom Trophy SVG -->
          <svg class="w-6 h-6 md:w-7 md:h-7 flex-shrink-0" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 15C15.866 15 19 11.866 19 8V5C19 4.44772 18.5523 4 18 4H6C5.44772 4 5 4.44772 5 5V8C5 11.866 8.13401 15 12 15Z" fill="#b794d4" opacity="0.3"/>
            <path d="M12 15C15.866 15 19 11.866 19 8V5C19 4.44772 18.5523 4 18 4H6C5.44772 4 5 4.44772 5 5V8C5 11.866 8.13401 15 12 15Z" stroke="#8e5db8" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M12 15V19M12 19H9M12 19H15M9 19L8 22H16L15 19" stroke="#8e5db8" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M5 6H3C2.44772 6 2 6.44772 2 7V8C2 9.65685 3.34315 11 5 11" stroke="#8e5db8" stroke-width="2" stroke-linecap="round"/>
            <path d="M19 6H21C21.5523 6 22 6.44772 22 7V8C22 9.65685 20.6569 11 19 11" stroke="#8e5db8" stroke-width="2" stroke-linecap="round"/>
          </svg>

          <!-- Main Text -->
          <div class="text-center">
            <span class="text-lg md:text-xl font-bold" style="color: #23075a; letter-spacing: 0.02em;">
              Celebrating <span style="color: #ff1493;">90 Years</span> of English Excellence
            </span>
            <span class="hidden md:inline mx-3" style="color: rgba(35, 7, 90, 0.3);">•</span>
            <span class="text-sm md:text-base block md:inline mt-1 md:mt-0" style="color: #5a3a77;">
              Trusted by millions worldwide since 1934
            </span>
          </div>

          <!-- Custom Medal SVG -->
          <svg class="w-6 h-6 md:w-7 md:h-7 flex-shrink-0" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <circle cx="12" cy="14" r="6" fill="#ffd4e8" opacity="0.5"/>
            <circle cx="12" cy="14" r="6" stroke="#ff9ec7" stroke-width="2"/>
            <circle cx="12" cy="14" r="3.5" fill="#ff9ec7"/>
            <path d="M9 2L10 8L12 14" stroke="#ff9ec7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M15 2L14 8L12 14" stroke="#ff9ec7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M9 2L7 1V4L9 5V2Z" fill="#ffcce0" stroke="#ff9ec7" stroke-width="1.5" stroke-linejoin="round"/>
            <path d="M15 2L17 1V4L15 5V2Z" fill="#ffcce0" stroke="#ff9ec7" stroke-width="1.5" stroke-linejoin="round"/>
          </svg>
        </div>
      </div>

      <!-- Bottom border -->
      <div class="absolute bottom-0 left-0 right-0 h-px" style="background: linear-gradient(90deg, transparent, rgba(142, 93, 184, 0.3) 50%, transparent);"></div>
    </section>

    <!-- Learning Pathways Section -->
    <section class="py-20" style="background: transparent;">
      <div class="bc-container">
        <div class="text-center mb-12">
          <div class="inline-block px-4 py-2 rounded-full mb-4" style="background: linear-gradient(135deg, rgba(35, 7, 90, 0.08), rgba(255, 20, 147, 0.04)); border: 1px solid rgba(35, 7, 90, 0.1);">
            <span class="text-sm font-semibold" style="color: var(--bc-primary-blue);">Official Test Center</span>
          </div>
          <h2 class="text-3xl md:text-4xl font-bold mb-4" style="color: var(--bc-primary-blue);">Find Your Perfect English Course</h2>
          <p class="text-lg max-w-3xl mx-auto" style="color: var(--bc-dark-gray);">
            Whether you're learning for work, study, or personal development, we have the perfect program for you
          </p>
        </div>

        <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">
          <!-- Adults -->
          <a href="/courses/adults" class="pathway-card group block" style="background: var(--glass); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); border-radius: var(--radius-md); border: 1px solid var(--line); box-shadow: var(--shadow-md); overflow: hidden;">
            <div class="aspect-video overflow-hidden">
              <img
                src="https://mktgfiles.britishcouncil.org/hubfs/HD%20-%20Assets/FaceToFace/lp/images/f2f-adults-lp-hero.jpg"
                alt="English for Adults"
                class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"
              />
            </div>
            <div class="p-6">
              <div class="flex items-center gap-3 mb-3">
                <svg class="w-6 h-6" style="color: var(--bc-primary-blue);" viewBox="0 0 24 24" fill="none"><path d="M20 7H4C3.44772 7 3 7.44772 3 8V18C3 18.5523 3.44772 19 4 19H20C20.5523 19 21 18.5523 21 18V8C21 7.44772 20.5523 7 20 7Z" fill="#dcc6f0" opacity="0.5"/><path d="M16 7V5C16 4.44772 15.5523 4 15 4H9C8.44772 4 8 4.44772 8 5V7M12 13H12.01M4 7H20C20.5523 7 21 7.44772 21 8V18C21 18.5523 20.5523 19 20 19H4C3.44772 19 3 18.5523 3 18V8C3 7.44772 3.44772 7 4 7Z" stroke="#b794d4" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
                <h3 class="text-xl font-bold group-hover:text-pink-500 transition-colors" style="color: var(--bc-primary-blue);">English for Adults</h3>
              </div>
              <p class="text-sm mb-4" style="color: var(--bc-dark-gray);">Professional development, career advancement, and social integration</p>
              <div class="flex items-center gap-2 text-sm font-medium" style="color: var(--bc-cta-pink);">
                <span>Explore Courses</span>
                <svg class="w-4 h-4 group-hover:translate-x-2 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"></path>
                </svg>
              </div>
            </div>
          </a>

          <!-- Children & Teens -->
          <a href="/courses/children" class="pathway-card group block" style="background: var(--glass); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); border-radius: var(--radius-md); border: 1px solid var(--line); box-shadow: var(--shadow-md); overflow: hidden;">
            <div class="aspect-video overflow-hidden">
              <img
                src="https://mktgfiles.britishcouncil.org/hubfs/Photo%20of%20five%20children%20in%20a%20class.jpg"
                alt="English for Children & Teens"
                class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"
              />
            </div>
            <div class="p-6">
              <div class="flex items-center gap-3 mb-3">
                <svg class="w-6 h-6" style="color: var(--bc-primary-blue);" viewBox="0 0 24 24" fill="none"><path d="M5 19H19C19.5523 19 20 18.5523 20 18V6C20 5.44772 19.5523 5 19 5H5C4.44772 5 4 5.44772 4 6V18C4 18.5523 4.44772 19 5 19Z" fill="#ffd4e8" opacity="0.6"/><path d="M4 19H20V21C20 21.5523 19.5523 22 19 22H5C4.44772 22 4 21.5523 4 21V19ZM19 2H5C3.89543 2 3 2.89543 3 4V18C3 19.1046 3.89543 20 5 20H19C20.1046 20 21 19.1046 21 18V4C21 2.89543 20.1046 2 19 2Z" stroke="#b794d4" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/><path d="M8 6H16M8 10H16M8 14H12" stroke="#ff9ec7" stroke-width="1.5" stroke-linecap="round"/></svg>
                <h3 class="text-xl font-bold group-hover:text-pink-500 transition-colors" style="color: var(--bc-primary-blue);">Children & Teens</h3>
              </div>
              <p class="text-sm mb-4" style="color: var(--bc-dark-gray);">Fun, engaging programs for ages 2-17 that build confidence and skills</p>
              <div class="flex items-center gap-2 text-sm font-medium" style="color: var(--bc-cta-pink);">
                <span>Explore Courses</span>
                <svg class="w-4 h-4 group-hover:translate-x-2 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"></path>
                </svg>
              </div>
            </div>
          </a>

          <!-- Corporate -->
          <a href="/courses/corporate" class="pathway-card group block" style="background: var(--glass); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); border-radius: var(--radius-md); border: 1px solid var(--line); box-shadow: var(--shadow-md); overflow: hidden;">
            <div class="aspect-video overflow-hidden">
              <img
                src="https://mktgfiles.britishcouncil.org/hubfs/Global%20-%20Future%20of%20English/Corporate%20English%20Solutions.jpg"
                alt="Corporate English Solutions"
                class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"
              />
            </div>
            <div class="p-6">
              <div class="flex items-center gap-3 mb-3">
                <svg class="w-6 h-6" style="color: var(--bc-primary-blue);" viewBox="0 0 24 24" fill="none"><rect x="3" y="3" width="18" height="18" rx="2" fill="#dcc6f0" opacity="0.5"/><path d="M3 3H21V21H3V3Z" stroke="#a688c7" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/><path d="M9 3V21M15 3V21M3 9H21M3 15H21" stroke="#c4a7de" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/><circle cx="12" cy="12" r="2" fill="#ff9ec7"/></svg>
                <h3 class="text-xl font-bold group-hover:text-pink-500 transition-colors" style="color: var(--bc-primary-blue);">Corporate Solutions</h3>
              </div>
              <p class="text-sm mb-4" style="color: var(--bc-dark-gray);">Customized business English training and workforce development</p>
              <div class="flex items-center gap-2 text-sm font-medium" style="color: var(--bc-cta-pink);">
                <span>Explore Solutions</span>
                <svg class="w-4 h-4 group-hover:translate-x-2 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"></path>
                </svg>
              </div>
            </div>
          </a>

          <!-- IELTS -->
          <a href="/exams/ielts" class="pathway-card group block" style="background: var(--glass); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); border-radius: var(--radius-md); border: 1px solid var(--line); box-shadow: var(--shadow-md); overflow: hidden;">
            <div class="aspect-video overflow-hidden" style="background: linear-gradient(135deg, #ffd4e8, #ffcce0);">
              <img
                src="https://mktgfiles.britishcouncil.org/hubfs/IELTS%20Coach-May-mail1.png"
                alt="IELTS"
                class="w-full h-full object-contain group-hover:scale-105 transition-transform duration-500"
              />
            </div>
            <div class="p-6">
              <div class="flex items-center gap-3 mb-3">
                <svg class="w-6 h-6" viewBox="0 0 24 24" fill="none"><circle cx="12" cy="12" r="10" fill="#ffd4e8" opacity="0.5"/><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2z" stroke="#ff9ec7" stroke-width="1.5"/><path d="M2 12h20M12 2c2.5 0 4.5 4.5 4.5 10s-2 10-4.5 10-4.5-4.5-4.5-10S9.5 2 12 2z" stroke="#b794d4" stroke-width="1.5" stroke-linecap="round"/></svg>
                <h3 class="text-xl font-bold group-hover:text-pink-500 transition-colors" style="color: var(--bc-primary-blue);">IELTS</h3>
              </div>
              <p class="text-sm mb-4" style="color: var(--bc-dark-gray);">The world's most popular English exam for study, work, and migration. Accepted by 12,500+ organizations globally.</p>
              <div class="flex items-center gap-2 text-sm font-medium" style="color: var(--bc-cta-pink);">
                <span>Book IELTS Exam</span>
                <svg class="w-4 h-4 group-hover:translate-x-2 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"></path>
                </svg>
              </div>
            </div>
          </a>

          <!-- Aptis ESOL -->
          <a href="/exams/aptis" class="pathway-card group block" style="background: var(--glass); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); border-radius: var(--radius-md); border: 1px solid var(--line); box-shadow: var(--shadow-md); overflow: hidden;">
            <div class="aspect-video overflow-hidden" style="background: linear-gradient(135deg, #e8d9f5, #dcc6f0);">
              <img
                src="https://mktgfiles.britishcouncil.org/hubfs/Aptis-EmailHeader-568x180-FourIcons.153150.png"
                alt="Aptis ESOL"
                class="w-full h-full object-contain group-hover:scale-105 transition-transform duration-500"
              />
            </div>
            <div class="p-6">
              <div class="flex items-center gap-3 mb-3">
                <svg class="w-6 h-6" viewBox="0 0 24 24" fill="none"><path d="M13 2L3 14h8l-1 8 10-12h-8l1-8z" fill="#e8d9f5" opacity="0.5"/><path d="M13 2L3 14h8l-1 8 10-12h-8l1-8z" stroke="#ff9ec7" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>
                <h3 class="text-xl font-bold group-hover:text-pink-500 transition-colors" style="color: var(--bc-primary-blue);">Aptis ESOL</h3>
              </div>
              <p class="text-sm mb-4" style="color: var(--bc-dark-gray);">Fast, flexible English certification recognized by Spanish authorities. Modular test assessing A1-C2 levels.</p>
              <div class="flex items-center gap-2 text-sm font-medium" style="color: var(--bc-cta-pink);">
                <span>Book Aptis Exam</span>
                <svg class="w-4 h-4 group-hover:translate-x-2 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"></path>
                </svg>
              </div>
            </div>
          </a>

          <!-- Free Level Test -->
          <a href="/level-test" class="pathway-card group block" style="background: var(--glass); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); border-radius: var(--radius-md); border: 1px solid var(--line); box-shadow: var(--shadow-md); overflow: hidden;">
            <div class="aspect-video overflow-hidden">
              <img
                src="https://mktgfiles.britishcouncil.org/hubfs/English%20-%20LearnEnglish/Level%20nurture/English%20-%20All%20-%20Learn%20English%20-%20Global%20-%20Level%20Test%20-%20Nurture%20-%20B1.jpg"
                alt="Free Level Test"
                class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"
              />
            </div>
            <div class="p-6">
              <div class="flex items-center gap-3 mb-3">
                <svg class="w-6 h-6" viewBox="0 0 24 24" fill="none"><path d="M9 11H7a2 2 0 00-2 2v6a2 2 0 002 2h2m6-10h2a2 2 0 012 2v6a2 2 0 01-2 2h-2m-6-10V3a2 2 0 012-2h2a2 2 0 012 2v8m-6 0h6" stroke="#b794d4" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/><circle cx="12" cy="7" r="1.5" fill="#ff9ec7"/></svg>
                <h3 class="text-xl font-bold group-hover:text-pink-500 transition-colors" style="color: var(--bc-primary-blue);">Free Level Test</h3>
              </div>
              <p class="text-sm mb-4" style="color: var(--bc-dark-gray);">Discover your English level with our free 25-minute online test. Get personalized course recommendations.</p>
              <div class="flex items-center gap-2 text-sm font-medium" style="color: var(--bc-cta-pink);">
                <span>Start Free Test</span>
                <svg class="w-4 h-4 group-hover:translate-x-2 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"></path>
                </svg>
              </div>
            </div>
          </a>
        </div>

        <!-- Upcoming Courses Calendar (integrated into courses section) -->
        <div class="mt-12 pt-12" style="border-top: 2px solid rgba(183, 148, 212, 0.1);">
          <div class="text-center mb-10">
          <div class="inline-block px-4 py-2 rounded-full mb-4" style="background: linear-gradient(135deg, rgba(35, 7, 90, 0.08), rgba(255, 20, 147, 0.04)); border: 1px solid rgba(35, 7, 90, 0.1);">
            <span class="text-sm font-semibold" style="color: var(--bc-primary-blue);">Start This Month</span>
          </div>
          <h2 class="text-3xl md:text-4xl font-bold mb-4" style="color: var(--bc-primary-blue);">Upcoming Course Schedule</h2>
          <p class="text-lg max-w-3xl mx-auto" style="color: var(--bc-dark-gray);">
            Browse our upcoming courses and secure your spot today. New classes starting weekly!
          </p>
        </div>

        <!-- Integrated Calendar with Filters -->
        <div class="calendar-wrapper rounded-3xl overflow-hidden" style="background: var(--glass); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); border: 3px solid var(--bc-primary-blue); box-shadow: 0 12px 40px rgba(35, 7, 90, 0.15);">
          <!-- Calendar Header with Navigation -->
          <div class="calendar-header-section px-6 py-4" style="background: linear-gradient(135deg, rgba(35, 7, 90, 0.05), rgba(183, 148, 212, 0.03));">
            <div class="flex items-center justify-between mb-4">
              <button class="calendar-nav-btn p-2 rounded-lg hover:bg-white/50 transition-all" onclick="previousMonth()">
                <svg class="w-5 h-5" style="color: var(--bc-primary-blue);" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                </svg>
              </button>

              <div class="text-center">
                <h3 class="text-2xl font-bold" style="color: var(--bc-primary-blue);" id="currentMonth">November 2025</h3>
                <p class="text-sm mt-1" style="color: var(--bc-dark-gray);">Click on any event for details</p>
              </div>

              <button class="calendar-nav-btn p-2 rounded-lg hover:bg-white/50 transition-all" onclick="nextMonth()">
                <svg class="w-5 h-5" style="color: var(--bc-primary-blue);" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                </svg>
              </button>
            </div>

            <!-- Integrated Filters Section -->
            <div class="filters-section p-4 rounded-xl" style="background: white; border: 1px solid rgba(183, 148, 212, 0.2);">
              <!-- Filter Label -->
              <div class="text-center mb-3">
                <h4 class="text-sm font-semibold uppercase tracking-wider" style="color: var(--bc-primary-blue); opacity: 0.7;">Filter Events</h4>
              </div>

              <!-- Event Type Filters -->
              <div class="flex flex-wrap gap-2 justify-center mb-3">
                <button class="event-type-btn active" onclick="filterEventType('all', this)" style="background: linear-gradient(135deg, var(--bc-primary-blue), #5a3a77); color: white; padding: 6px 14px; border-radius: 10px; font-size: 13px; font-weight: 500; transition: all 0.3s;">
                  <div class="flex items-center gap-2">
                    <span>All Events</span>
                  </div>
                </button>

                <!-- English & Exams with integrated course type dropdown -->
                <div class="relative inline-block">
                  <button class="event-type-btn courses-btn" onclick="filterEventType('courses', this)" style="background: rgba(35, 7, 90, 0.05); border: 1px solid rgba(35, 7, 90, 0.15); padding: 6px 14px; border-radius: 10px; font-size: 13px; font-weight: 500; transition: all 0.3s; position: relative;">
                    <div class="flex items-center gap-2">
                      <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path>
                      </svg>
                      <span class="course-label">English & Exams</span>
                      <select id="courseTypeFilter" onchange="event.stopPropagation(); filterCourses(this.value)" class="course-dropdown ml-2 appearance-none px-3 py-0.5 pr-7 rounded-md text-xs font-medium transition-all cursor-pointer" style="display: none; background: white; border: 1px solid rgba(35, 7, 90, 0.2); min-width: 110px; color: var(--bc-primary-blue);" onclick="event.stopPropagation()">
                        <option value="all">All Courses</option>
                        <option value="adults">Adults</option>
                        <option value="kids">Children</option>
                        <option value="teens">Teenagers</option>
                        <option value="business">Business</option>
                        <option value="exams">Exam Prep</option>
                      </select>
                      <div class="course-dropdown-arrow absolute" style="display: none; right: 24px; top: 50%; transform: translateY(-50%); pointer-events: none;">
                        <svg class="w-3 h-3" style="color: var(--bc-primary-blue);" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                        </svg>
                      </div>
                    </div>
                  </button>
                </div>

                <button class="event-type-btn" onclick="filterEventType('webinars', this)" style="background: rgba(35, 7, 90, 0.05); border: 1px solid rgba(35, 7, 90, 0.15); padding: 6px 14px; border-radius: 10px; font-size: 13px; font-weight: 500; transition: all 0.3s;">
                  <div class="flex items-center gap-2">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"></path>
                    </svg>
                    <span>Webinars</span>
                  </div>
                </button>

                <button class="event-type-btn" onclick="filterEventType('cultural', this)" style="background: rgba(35, 7, 90, 0.05); border: 1px solid rgba(35, 7, 90, 0.15); padding: 6px 14px; border-radius: 10px; font-size: 13px; font-weight: 500; transition: all 0.3s;">
                  <div class="flex items-center gap-2">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"></path>
                    </svg>
                    <span>Cultural Events</span>
                  </div>
                </button>

                <!-- Fixed Term Courses Filter -->
                <div class="relative inline-block">
                  <button class="event-type-btn fixed-term-btn" onclick="filterEventType('fixedterm', this)" style="background: rgba(35, 7, 90, 0.05); border: 1px solid rgba(35, 7, 90, 0.15); padding: 6px 14px; border-radius: 10px; font-size: 13px; font-weight: 500; transition: all 0.3s; position: relative;">
                    <div class="flex items-center gap-2">
                      <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
                      </svg>
                      <span class="fixed-term-label">Fixed Term</span>
                      <select id="fixedTermFilter" onchange="event.stopPropagation(); filterFixedTerm(this.value)" class="fixed-term-dropdown ml-2 appearance-none px-3 py-0.5 pr-7 rounded-md text-xs font-medium transition-all cursor-pointer" style="display: none; background: white; border: 1px solid rgba(35, 7, 90, 0.2); min-width: 110px; color: var(--bc-primary-blue);" onclick="event.stopPropagation()">
                        <option value="all">All Durations</option>
                        <option value="weekly">Weekly</option>
                        <option value="monthly">Monthly</option>
                        <option value="three-month">Three-Month</option>
                        <option value="academic-year">Academic Year</option>
                        <option value="summer">Summer</option>
                      </select>
                      <div class="fixed-term-dropdown-arrow absolute" style="display: none; right: 24px; top: 50%; transform: translateY(-50%); pointer-events: none;">
                        <svg class="w-3 h-3" style="color: var(--bc-primary-blue);" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                        </svg>
                      </div>
                    </div>
                  </button>
                </div>
              </div>

              <!-- Event Type Legend -->
              <div class="flex flex-wrap gap-3 justify-center text-xs pt-3" style="border-top: 1px solid rgba(183, 148, 212, 0.15);">
                <div class="flex items-center gap-1" style="color: var(--bc-dark-gray);">
                  <svg class="w-3 h-3" fill="currentColor" viewBox="0 0 20 20">
                    <path d="M9 4.804A7.968 7.968 0 005.5 4c-1.255 0-2.443.29-3.5.804v10A7.969 7.969 0 015.5 14c1.669 0 3.218.51 4.5 1.385A7.962 7.962 0 0114.5 14c1.255 0 2.443.29 3.5.804v-10A7.968 7.968 0 0014.5 4c-1.255 0-2.443.29-3.5.804V12a1 1 0 11-2 0V4.804z"/>
                  </svg>
                  <span>Course</span>
                </div>
                <div class="flex items-center gap-1" style="color: #10b981;">
                  <svg class="w-3 h-3" fill="currentColor" viewBox="0 0 20 20">
                    <path d="M2 6a2 2 0 012-2h6a2 2 0 012 2v8a2 2 0 01-2 2H4a2 2 0 01-2-2V6zM14.553 7.106A1 1 0 0014 8v4a1 1 0 00.553.894l2 1A1 1 0 0018 13V7a1 1 0 00-1.447-.894l-2 1z"/>
                  </svg>
                  <span>Webinar</span>
                </div>
                <div class="flex items-center gap-1" style="color: #ef4444;">
                  <svg class="w-3 h-3" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M10 2a1 1 0 011 1v1.323l3.954 1.582 1.599-.8a1 1 0 01.894 1.79l-1.233.616 1.738 5.42a1 1 0 01-.285 1.05A3.989 3.989 0 0115 15a3.989 3.989 0 01-2.667-1.019 1 1 0 01-.285-1.05l1.715-5.349L11 6.477V16h2a1 1 0 110 2H7a1 1 0 110-2h2V6.477L6.237 7.582l1.715 5.349a1 1 0 01-.285 1.05A3.989 3.989 0 015 15a3.989 3.989 0 01-2.667-1.019 1 1 0 01-.285-1.05l1.738-5.42-1.233-.617a1 1 0 01.894-1.788l1.599.799L9 4.323V3a1 1 0 011-1z" clip-rule="evenodd"/>
                  </svg>
                  <span>Cultural</span>
                </div>
                <div class="flex items-center gap-1" style="color: #22c55e;">
                  <span class="w-2 h-2 rounded-full" style="background: #22c55e; display: inline-block;"></span>
                  <span>Upcoming</span>
                </div>
                <div class="flex items-center gap-1" style="color: #ef4444;">
                  <span class="w-2 h-2 rounded-full" style="background: #ef4444; display: inline-block;"></span>
                  <span>In Progress</span>
                </div>
              </div>
            </div>
          <!-- Calendar Grid Body -->
          <div class="calendar-grid-body overflow-x-auto p-6">
            <div class="calendar-grid min-w-[900px]">
            <!-- Days Header -->
            <div class="calendar-header grid grid-cols-7 gap-2 mb-4">
              <div class="text-center p-3 rounded-lg font-semibold" style="background: linear-gradient(135deg, #e8d9f5, #dcc6f0); color: var(--bc-primary-blue);">Monday</div>
              <div class="text-center p-3 rounded-lg font-semibold" style="background: linear-gradient(135deg, #e8d9f5, #dcc6f0); color: var(--bc-primary-blue);">Tuesday</div>
              <div class="text-center p-3 rounded-lg font-semibold" style="background: linear-gradient(135deg, #e8d9f5, #dcc6f0); color: var(--bc-primary-blue);">Wednesday</div>
              <div class="text-center p-3 rounded-lg font-semibold" style="background: linear-gradient(135deg, #e8d9f5, #dcc6f0); color: var(--bc-primary-blue);">Thursday</div>
              <div class="text-center p-3 rounded-lg font-semibold" style="background: linear-gradient(135deg, #e8d9f5, #dcc6f0); color: var(--bc-primary-blue);">Friday</div>
              <div class="text-center p-3 rounded-lg font-semibold" style="background: linear-gradient(135deg, #ffd4e8, #ffcce0); color: var(--bc-primary-blue);">Saturday</div>
              <div class="text-center p-3 rounded-lg font-semibold" style="background: linear-gradient(135deg, #ffd4e8, #ffcce0); color: var(--bc-primary-blue);">Sunday</div>
            </div>

            <!-- Calendar Days -->
            <div class="grid grid-cols-7 gap-2" id="calendarDays">
              <!-- Calendar will be dynamically generated here -->
            </div>
          </div>
        </div>
        </div>
        <!-- End of integrated calendar wrapper -->
      </div>
    </section>

    <!-- Course Details Modal -->
    <div id="courseModal" class="modal-overlay fixed inset-0 z-50 hidden" style="background: rgba(0, 0, 0, 0.5); backdrop-filter: blur(4px);">
      <div class="modal-container flex items-center justify-center h-full p-4">
        <div class="modal-content bg-white rounded-3xl max-w-2xl w-full max-h-[90vh] overflow-y-auto animate-modal-enter" style="box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);">
          <!-- Modal Header -->
          <div class="modal-header relative">
            <img id="modalImage" src="" alt="" class="w-full h-64 object-cover rounded-t-3xl">
            <button onclick="closeModal()" class="absolute top-4 right-4 bg-white/90 backdrop-blur rounded-full p-2 hover:bg-white transition-all">
              <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
              </svg>
            </button>
          </div>

          <!-- Modal Body -->
          <div class="modal-body p-8">
            <div class="flex items-center gap-3 mb-4">
              <span class="px-3 py-1 rounded-full text-xs font-semibold" id="modalLevel" style="background: linear-gradient(135deg, rgba(183, 148, 212, 0.15), rgba(255, 158, 199, 0.1)); color: var(--bc-primary-blue);"></span>
              <span class="px-3 py-1 rounded-full text-xs font-semibold" id="modalCategory" style="background: linear-gradient(135deg, rgba(255, 212, 232, 0.2), rgba(255, 204, 224, 0.15)); color: #ff1493;"></span>
            </div>

            <h2 id="modalTitle" class="text-2xl md:text-3xl font-bold mb-4" style="color: var(--bc-primary-blue);"></h2>

            <div class="grid md:grid-cols-2 gap-6 mb-6">
              <div>
                <h3 class="font-semibold mb-2" style="color: var(--bc-primary-blue);">Schedule</h3>
                <div class="space-y-2">
                  <div class="flex items-center gap-2">
                    <svg class="w-4 h-4" style="color: #8e5db8;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
                    </svg>
                    <span id="modalDay" class="text-sm" style="color: var(--bc-dark-gray);"></span>
                  </div>
                  <div class="flex items-center gap-2">
                    <svg class="w-4 h-4" style="color: #8e5db8;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                    </svg>
                    <span id="modalTime" class="text-sm" style="color: var(--bc-dark-gray);"></span>
                  </div>
                  <div class="flex items-center gap-2">
                    <svg class="w-4 h-4" style="color: #8e5db8;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                    </svg>
                    <span id="modalDuration" class="text-sm" style="color: var(--bc-dark-gray);">8 weeks course</span>
                  </div>
                </div>
              </div>

              <div>
                <h3 class="font-semibold mb-2" style="color: var(--bc-primary-blue);">Details</h3>
                <div class="space-y-2">
                  <div class="flex items-center gap-2">
                    <svg class="w-4 h-4" style="color: #8e5db8;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
                    </svg>
                    <span id="modalLocation" class="text-sm" style="color: var(--bc-dark-gray);">Madrid Center / Online</span>
                  </div>
                  <div class="flex items-center gap-2">
                    <svg class="w-4 h-4" style="color: #8e5db8;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                    </svg>
                    <span id="modalPrice" class="text-sm" style="color: var(--bc-dark-gray);">€180/month</span>
                  </div>
                  <div class="flex items-center gap-2">
                    <svg class="w-4 h-4" style="color: #8e5db8;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"></path>
                    </svg>
                    <span id="modalSize" class="text-sm" style="color: var(--bc-dark-gray);">Max 12 students</span>
                  </div>
                </div>
              </div>
            </div>

            <div class="mb-6">
              <h3 class="font-semibold mb-2" style="color: var(--bc-primary-blue);">Course Description</h3>
              <p id="modalDescription" class="text-sm leading-relaxed" style="color: var(--bc-dark-gray);"></p>
            </div>

            <div class="mb-6">
              <h3 class="font-semibold mb-2" style="color: var(--bc-primary-blue);">What You'll Learn</h3>
              <ul id="modalLearning" class="space-y-2">
              </ul>
            </div>

            <!-- CTA Buttons -->
            <div class="flex gap-4 flex-wrap">
              <Button href="/enroll" variant="primary" size="md" class="flex-1">
                Enroll Now
              </Button>
              <Button href="/contact" variant="secondary" size="md" class="flex-1">
                Request Info
              </Button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Popular Upcoming Courses Carousel -->
    <section class="py-16 px-4" style="background: linear-gradient(180deg, rgba(35, 7, 90, 0.02) 0%, rgba(255, 255, 255, 0) 100%);">
      <div class="max-w-7xl mx-auto">
        <div class="text-center mb-12">
          <div class="inline-flex items-center gap-2 mb-3">
            <svg class="w-6 h-6" style="color: var(--bc-cta-pink);" fill="currentColor" viewBox="0 0 20 20">
              <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
            </svg>
            <h2 class="text-3xl md:text-4xl font-bold" style="color: var(--bc-primary-blue);">Popular Upcoming Courses</h2>
          </div>
          <p class="text-base max-w-2xl mx-auto" style="color: var(--bc-dark-gray);">
            Trending courses starting soon - secure your spot today!
          </p>
        </div>

        <div class="relative">
          <!-- Carousel Container -->
          <div class="overflow-hidden" id="coursesCarousel">
            <div class="flex gap-6 transition-transform duration-500 ease-out" id="carouselTrack">

              <!-- Card 1: Business English B2 -->
              <div class="flex-shrink-0 w-80 md:w-96">
                <div class="group h-full rounded-2xl p-6 transition-all duration-300 hover:scale-105" style="background: linear-gradient(135deg, rgba(139, 92, 246, 0.08), rgba(124, 58, 237, 0.05)); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); border: 1px solid rgba(139, 92, 246, 0.2); box-shadow: 0 8px 32px rgba(139, 92, 246, 0.12);">
                  <div class="flex items-start justify-between mb-4">
                    <div class="flex items-center gap-2">
                      <div class="w-12 h-12 rounded-xl flex items-center justify-center" style="background: linear-gradient(135deg, #8b5cf6, #7c3aed);">
                        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
                        </svg>
                      </div>
                      <div>
                        <span class="text-xs font-semibold px-2 py-1 rounded-full" style="background: rgba(239, 68, 68, 0.15); color: #ef4444;">In Progress</span>
                      </div>
                    </div>
                    <span class="text-xs font-medium px-3 py-1 rounded-full" style="background: rgba(139, 92, 246, 0.15); color: #8b5cf6;">Three-Month</span>
                  </div>

                  <h3 class="text-xl font-bold mb-2" style="color: var(--bc-primary-blue);">Business English B2</h3>
                  <p class="text-sm mb-4" style="color: var(--bc-dark-gray);">Master professional English communication for the global business environment</p>

                  <div class="space-y-2 mb-4">
                    <div class="flex items-center gap-2 text-sm" style="color: var(--bc-dark-gray);">
                      <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                      </svg>
                      <span>Started: Oct 1, 2025</span>
                    </div>
                    <div class="flex items-center gap-2 text-sm" style="color: var(--bc-dark-gray);">
                      <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/>
                      </svg>
                      <span>Monday 09:00-11:00</span>
                    </div>
                  </div>

                  <div class="pt-4 border-t" style="border-color: rgba(139, 92, 246, 0.2);">
                    <div class="flex items-center justify-between">
                      <span class="text-2xl font-bold" style="color: #8b5cf6;">€210<span class="text-sm font-normal" style="color: var(--bc-dark-gray);">/month</span></span>
                      <button class="px-4 py-2 rounded-lg text-sm font-semibold transition-all hover:scale-105" style="background: linear-gradient(135deg, #8b5cf6, #7c3aed); color: white;">
                        Learn More
                      </button>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Card 2: General English A2 -->
              <div class="flex-shrink-0 w-80 md:w-96">
                <div class="group h-full rounded-2xl p-6 transition-all duration-300 hover:scale-105" style="background: linear-gradient(135deg, rgba(34, 197, 94, 0.08), rgba(5, 150, 105, 0.05)); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); border: 1px solid rgba(34, 197, 94, 0.2); box-shadow: 0 8px 32px rgba(34, 197, 94, 0.12);">
                  <div class="flex items-start justify-between mb-4">
                    <div class="flex items-center gap-2">
                      <div class="w-12 h-12 rounded-xl flex items-center justify-center" style="background: linear-gradient(135deg, #22c55e, #059669);">
                        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"/>
                        </svg>
                      </div>
                      <div>
                        <span class="text-xs font-semibold px-2 py-1 rounded-full" style="background: rgba(34, 197, 94, 0.15); color: #22c55e;">Upcoming</span>
                      </div>
                    </div>
                    <span class="text-xs font-medium px-3 py-1 rounded-full" style="background: rgba(34, 197, 94, 0.15); color: #059669;">Monthly</span>
                  </div>

                  <h3 class="text-xl font-bold mb-2" style="color: var(--bc-primary-blue);">General English A2</h3>
                  <p class="text-sm mb-4" style="color: var(--bc-dark-gray);">Build your English foundation with practical everyday communication skills</p>

                  <div class="space-y-2 mb-4">
                    <div class="flex items-center gap-2 text-sm" style="color: var(--bc-dark-gray);">
                      <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                      </svg>
                      <span>Starts: Nov 5, 2025</span>
                    </div>
                    <div class="flex items-center gap-2 text-sm" style="color: var(--bc-dark-gray);">
                      <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/>
                      </svg>
                      <span>Tuesday 10:00-12:00</span>
                    </div>
                  </div>

                  <div class="pt-4 border-t" style="border-color: rgba(34, 197, 94, 0.2);">
                    <div class="flex items-center justify-between">
                      <span class="text-2xl font-bold" style="color: #059669;">€180<span class="text-sm font-normal" style="color: var(--bc-dark-gray);">/month</span></span>
                      <button class="px-4 py-2 rounded-lg text-sm font-semibold transition-all hover:scale-105" style="background: linear-gradient(135deg, #22c55e, #059669); color: white;">
                        Learn More
                      </button>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Card 3: IELTS Preparation -->
              <div class="flex-shrink-0 w-80 md:w-96">
                <div class="group h-full rounded-2xl p-6 transition-all duration-300 hover:scale-105" style="background: linear-gradient(135deg, rgba(59, 130, 246, 0.08), rgba(37, 99, 235, 0.05)); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); border: 1px solid rgba(59, 130, 246, 0.2); box-shadow: 0 8px 32px rgba(59, 130, 246, 0.12);">
                  <div class="flex items-start justify-between mb-4">
                    <div class="flex items-center gap-2">
                      <div class="w-12 h-12 rounded-xl flex items-center justify-center" style="background: linear-gradient(135deg, #3b82f6, #2563eb);">
                        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"/>
                        </svg>
                      </div>
                      <div>
                        <span class="text-xs font-semibold px-2 py-1 rounded-full" style="background: rgba(239, 68, 68, 0.15); color: #ef4444;">In Progress</span>
                      </div>
                    </div>
                    <span class="text-xs font-medium px-3 py-1 rounded-full" style="background: rgba(59, 130, 246, 0.15); color: #3b82f6;">Three-Month</span>
                  </div>

                  <h3 class="text-xl font-bold mb-2" style="color: var(--bc-primary-blue);">IELTS Preparation</h3>
                  <p class="text-sm mb-4" style="color: var(--bc-dark-gray);">Comprehensive preparation for academic and general IELTS examinations</p>

                  <div class="space-y-2 mb-4">
                    <div class="flex items-center gap-2 text-sm" style="color: var(--bc-dark-gray);">
                      <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                      </svg>
                      <span>Started: Oct 8, 2025</span>
                    </div>
                    <div class="flex items-center gap-2 text-sm" style="color: var(--bc-dark-gray);">
                      <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/>
                      </svg>
                      <span>Tuesday 18:00-20:00</span>
                    </div>
                  </div>

                  <div class="pt-4 border-t" style="border-color: rgba(59, 130, 246, 0.2);">
                    <div class="flex items-center justify-between">
                      <span class="text-2xl font-bold" style="color: #2563eb;">€240<span class="text-sm font-normal" style="color: var(--bc-dark-gray);">/month</span></span>
                      <button class="px-4 py-2 rounded-lg text-sm font-semibold transition-all hover:scale-105" style="background: linear-gradient(135deg, #3b82f6, #2563eb); color: white;">
                        Learn More
                      </button>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Card 4: Kids 7-9 Academic Year -->
              <div class="flex-shrink-0 w-80 md:w-96">
                <div class="group h-full rounded-2xl p-6 transition-all duration-300 hover:scale-105" style="background: linear-gradient(135deg, rgba(251, 146, 60, 0.08), rgba(249, 115, 22, 0.05)); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); border: 1px solid rgba(251, 146, 60, 0.2); box-shadow: 0 8px 32px rgba(251, 146, 60, 0.12);">
                  <div class="flex items-start justify-between mb-4">
                    <div class="flex items-center gap-2">
                      <div class="w-12 h-12 rounded-xl flex items-center justify-center" style="background: linear-gradient(135deg, #fb923c, #f97316);">
                        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                        </svg>
                      </div>
                      <div>
                        <span class="text-xs font-semibold px-2 py-1 rounded-full" style="background: rgba(239, 68, 68, 0.15); color: #ef4444;">In Progress</span>
                      </div>
                    </div>
                    <span class="text-xs font-medium px-3 py-1 rounded-full" style="background: rgba(251, 146, 60, 0.15); color: #f97316;">Academic Year</span>
                  </div>

                  <h3 class="text-xl font-bold mb-2" style="color: var(--bc-primary-blue);">Kids 7-9</h3>
                  <p class="text-sm mb-4" style="color: var(--bc-dark-gray);">Fun, engaging program that builds confidence and English skills for young learners</p>

                  <div class="space-y-2 mb-4">
                    <div class="flex items-center gap-2 text-sm" style="color: var(--bc-dark-gray);">
                      <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                      </svg>
                      <span>Started: Sep 15, 2025</span>
                    </div>
                    <div class="flex items-center gap-2 text-sm" style="color: var(--bc-dark-gray);">
                      <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/>
                      </svg>
                      <span>Monday 16:00-17:30</span>
                    </div>
                  </div>

                  <div class="pt-4 border-t" style="border-color: rgba(251, 146, 60, 0.2);">
                    <div class="flex items-center justify-between">
                      <span class="text-2xl font-bold" style="color: #f97316;">€190<span class="text-sm font-normal" style="color: var(--bc-dark-gray);">/month</span></span>
                      <button class="px-4 py-2 rounded-lg text-sm font-semibold transition-all hover:scale-105" style="background: linear-gradient(135deg, #fb923c, #f97316); color: white;">
                        Learn More
                      </button>
                    </div>
                  </div>
                </div>
              </div>

            </div>
          </div>

          <!-- Navigation Arrows -->
          <button id="prevBtn" class="absolute left-0 top-1/2 -translate-y-1/2 -translate-x-4 w-12 h-12 rounded-full flex items-center justify-center transition-all hover:scale-110 disabled:opacity-50 disabled:cursor-not-allowed" style="background: linear-gradient(135deg, var(--bc-primary-blue), #5a3a77); box-shadow: 0 4px 20px rgba(35, 7, 90, 0.3);">
            <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
            </svg>
          </button>

          <button id="nextBtn" class="absolute right-0 top-1/2 -translate-y-1/2 translate-x-4 w-12 h-12 rounded-full flex items-center justify-center transition-all hover:scale-110 disabled:opacity-50 disabled:cursor-not-allowed" style="background: linear-gradient(135deg, var(--bc-primary-blue), #5a3a77); box-shadow: 0 4px 20px rgba(35, 7, 90, 0.3);">
            <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
            </svg>
          </button>
        </div>

        <!-- Carousel Indicators -->
        <div class="flex justify-center gap-2 mt-8">
          <button class="carousel-dot w-2 h-2 rounded-full transition-all" style="background: var(--bc-primary-blue);"></button>
          <button class="carousel-dot w-2 h-2 rounded-full transition-all" style="background: rgba(35, 7, 90, 0.3);"></button>
          <button class="carousel-dot w-2 h-2 rounded-full transition-all" style="background: rgba(35, 7, 90, 0.3);"></button>
          <button class="carousel-dot w-2 h-2 rounded-full transition-all" style="background: rgba(35, 7, 90, 0.3);"></button>
        </div>
      </div>
    </section>

    <!-- Wall of Love -->
    <section class="py-16 overflow-hidden" style="background: linear-gradient(180deg, rgba(255, 255, 255, 0) 0%, rgba(35, 7, 90, 0.015) 50%, rgba(255, 255, 255, 0) 100%);">
      <div class="text-center mb-10">
        <div class="inline-flex items-center gap-3 mb-3">
          <h2 class="text-3xl md:text-4xl font-bold" style="color: var(--bc-primary-blue);">Wall of Love</h2>
          <svg class="w-9 h-9" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="#b794d4" opacity="0.3"/>
            <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" stroke="#8e5db8" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>
        <p class="text-base max-w-2xl mx-auto px-4" style="color: var(--bc-dark-gray);">
          What our students say about their British Council experience
        </p>
      </div>

      <!-- Row 1 - Scroll Left -->
      <div class="marquee-container mb-4">
        <div class="marquee-content marquee-left">
          <div class="love-card">"Achieved IELTS 8.0! Expert teachers made all the difference."</div>
          <div class="love-card">"The Business English course secured me a promotion at work."</div>
          <div class="love-card">"My daughter's confidence has grown tremendously. She loves every class!"</div>
          <div class="love-card">"Best English learning experience. Interactive and engaging lessons."</div>
          <div class="love-card">"Online courses are flexible and high quality. Perfect for busy professionals."</div>
          <div class="love-card">"Cambridge exam prep was thorough. Passed with distinction!"</div>
          <div class="love-card">"Teachers are native speakers and incredibly patient."</div>
          <div class="love-card">"The digital platform makes learning accessible anytime, anywhere."</div>
        </div>
        <div class="marquee-content marquee-left" aria-hidden="true">
          <div class="love-card">"Achieved IELTS 8.0! Expert teachers made all the difference."</div>
          <div class="love-card">"The Business English course secured me a promotion at work."</div>
          <div class="love-card">"My daughter's confidence has grown tremendously. She loves every class!"</div>
          <div class="love-card">"Best English learning experience. Interactive and engaging lessons."</div>
          <div class="love-card">"Online courses are flexible and high quality. Perfect for busy professionals."</div>
          <div class="love-card">"Cambridge exam prep was thorough. Passed with distinction!"</div>
          <div class="love-card">"Teachers are native speakers and incredibly patient."</div>
          <div class="love-card">"The digital platform makes learning accessible anytime, anywhere."</div>
        </div>
      </div>

      <!-- Row 2 - Scroll Right -->
      <div class="marquee-container mb-4">
        <div class="marquee-content marquee-right">
          <div class="love-card">"Corporate training transformed our team's communication skills."</div>
          <div class="love-card">"Primary Plus program is fantastic for young learners. Highly recommend!"</div>
          <div class="love-card">"Got my dream job in London thanks to British Council preparation."</div>
          <div class="love-card">"The learning resources are world-class. Worth every penny."</div>
          <div class="love-card">"Native-level fluency achieved in just 18 months!"</div>
          <div class="love-card">"Aptis ESOL was perfectly structured. Teachers guide you every step."</div>
          <div class="love-card">"Small class sizes mean personalized attention for every student."</div>
          <div class="love-card">"Cultural activities make learning English fun and immersive."</div>
        </div>
        <div class="marquee-content marquee-right" aria-hidden="true">
          <div class="love-card">"Corporate training transformed our team's communication skills."</div>
          <div class="love-card">"Primary Plus program is fantastic for young learners. Highly recommend!"</div>
          <div class="love-card">"Got my dream job in London thanks to British Council preparation."</div>
          <div class="love-card">"The learning resources are world-class. Worth every penny."</div>
          <div class="love-card">"Native-level fluency achieved in just 18 months!"</div>
          <div class="love-card">"Aptis ESOL was perfectly structured. Teachers guide you every step."</div>
          <div class="love-card">"Small class sizes mean personalized attention for every student."</div>
          <div class="love-card">"Cultural activities make learning English fun and immersive."</div>
        </div>
      </div>

      <!-- Row 3 - Scroll Left -->
      <div class="marquee-container">
        <div class="marquee-content marquee-left">
          <div class="love-card">"90 years of excellence really shows in their teaching methods."</div>
          <div class="love-card">"Free level test helped me start at exactly the right course."</div>
          <div class="love-card">"Blended learning combines the best of online and in-person classes."</div>
          <div class="love-card">"The support team is always responsive and helpful."</div>
          <div class="love-card">"Exam preparation courses are comprehensive and confidence-building."</div>
          <div class="love-card">"My son went from shy to speaking fluently in English!"</div>
          <div class="love-card">"Professional environment with state-of-the-art facilities."</div>
          <div class="love-card">"British Council credentials opened doors globally for me."</div>
        </div>
        <div class="marquee-content marquee-left" aria-hidden="true">
          <div class="love-card">"90 years of excellence really shows in their teaching methods."</div>
          <div class="love-card">"Free level test helped me start at exactly the right course."</div>
          <div class="love-card">"Blended learning combines the best of online and in-person classes."</div>
          <div class="love-card">"The support team is always responsive and helpful."</div>
          <div class="love-card">"Exam preparation courses are comprehensive and confidence-building."</div>
          <div class="love-card">"My son went from shy to speaking fluently in English!"</div>
          <div class="love-card">"Professional environment with state-of-the-art facilities."</div>
          <div class="love-card">"British Council credentials opened doors globally for me."</div>
        </div>
      </div>
    </section>

    <!-- Why British Council - Expanded Features -->
    <section class="py-20" style="background: transparent;">
      <div class="bc-container">
        <div class="text-center mb-12">
          <h2 class="text-3xl md:text-4xl font-bold mb-4" style="color: var(--bc-primary-blue);">Why Choose British Council?</h2>
          <p class="text-lg max-w-2xl mx-auto" style="color: var(--bc-dark-gray);">
            We offer a unique learning experience backed by our 90 years of global expertise
          </p>
        </div>

        <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
          <!-- Feature 1 -->
          <div class="feature-card p-6 rounded-2xl transition-all" style="background: var(--glass); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); border: 1px solid var(--line); box-shadow: var(--shadow-md);">
            <div class="w-14 h-14 rounded-xl flex items-center justify-center mb-4" style="background: linear-gradient(135deg, rgba(35, 7, 90, 0.08), rgba(255, 20, 147, 0.04));">
              <svg class="w-7 h-7" style="color: var(--bc-primary-blue);" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"></path>
              </svg>
            </div>
            <h3 class="text-lg font-semibold mb-2" style="color: var(--bc-primary-blue);">Official Certifications</h3>
            <p class="text-sm leading-relaxed" style="color: var(--bc-dark-gray);">
              Official IELTS and Aptis test center with recognized certifications
            </p>
          </div>

          <!-- Feature 2 -->
          <div class="feature-card p-6 rounded-2xl transition-all" style="background: var(--glass); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); border: 1px solid var(--line); box-shadow: var(--shadow-md);">
            <div class="w-14 h-14 rounded-xl flex items-center justify-center mb-4" style="background: linear-gradient(135deg, rgba(35, 7, 90, 0.08), rgba(255, 20, 147, 0.04));">
              <svg class="w-7 h-7" style="color: var(--bc-primary-blue);" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"></path>
              </svg>
            </div>
            <h3 class="text-lg font-semibold mb-2" style="color: var(--bc-primary-blue);">Expert Native Teachers</h3>
            <p class="text-sm leading-relaxed" style="color: var(--bc-dark-gray);">
              CELTA/DELTA certified native English teachers with years of experience
            </p>
          </div>

          <!-- Feature 3 -->
          <div class="feature-card p-6 rounded-2xl transition-all" style="background: var(--glass); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); border: 1px solid var(--line); box-shadow: var(--shadow-md);">
            <div class="w-14 h-14 rounded-xl flex items-center justify-center mb-4" style="background: linear-gradient(135deg, rgba(35, 7, 90, 0.08), rgba(255, 20, 147, 0.04));">
              <svg class="w-7 h-7" style="color: var(--bc-primary-blue);" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"></path>
              </svg>
            </div>
            <h3 class="text-lg font-semibold mb-2" style="color: var(--bc-primary-blue);">Proven Methodology</h3>
            <p class="text-sm leading-relaxed" style="color: var(--bc-dark-gray);">
              Communicative approach with exclusive British Council materials
            </p>
          </div>

          <!-- Feature 4 -->
          <div class="feature-card p-6 rounded-2xl transition-all" style="background: var(--glass); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); border: 1px solid var(--line); box-shadow: var(--shadow-md);">
            <div class="w-14 h-14 rounded-xl flex items-center justify-center mb-4" style="background: linear-gradient(135deg, rgba(35, 7, 90, 0.08), rgba(255, 20, 147, 0.04));">
              <svg class="w-7 h-7" style="color: var(--bc-primary-blue);" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
              </svg>
            </div>
            <h3 class="text-lg font-semibold mb-2" style="color: var(--bc-primary-blue);">Total Flexibility</h3>
            <p class="text-sm leading-relaxed" style="color: var(--bc-dark-gray);">
              Face-to-face, online, and blended learning with flexible schedules
            </p>
          </div>

          <!-- Feature 5 -->
          <div class="feature-card p-6 rounded-2xl transition-all" style="background: var(--glass); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); border: 1px solid var(--line); box-shadow: var(--shadow-md);">
            <div class="w-14 h-14 rounded-xl flex items-center justify-center mb-4" style="background: linear-gradient(135deg, rgba(35, 7, 90, 0.08), rgba(255, 20, 147, 0.04));">
              <svg class="w-7 h-7" style="color: var(--bc-primary-blue);" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
              </svg>
            </div>
            <h3 class="text-lg font-semibold mb-2" style="color: var(--bc-primary-blue);">Digital Learning Platform</h3>
            <p class="text-sm leading-relaxed" style="color: var(--bc-dark-gray);">
              24/7 access to online resources, interactive materials, and learning apps
            </p>
          </div>

          <!-- Feature 6 -->
          <div class="feature-card p-6 rounded-2xl transition-all" style="background: var(--glass); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); border: 1px solid var(--line); box-shadow: var(--shadow-md);">
            <div class="w-14 h-14 rounded-xl flex items-center justify-center mb-4" style="background: linear-gradient(135deg, rgba(35, 7, 90, 0.08), rgba(255, 20, 147, 0.04));">
              <svg class="w-7 h-7" style="color: var(--bc-primary-blue);" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
              </svg>
            </div>
            <h3 class="text-lg font-semibold mb-2" style="color: var(--bc-primary-blue);">Global Reach</h3>
            <p class="text-sm leading-relaxed" style="color: var(--bc-dark-gray);">
              Present in 100+ countries with millions of students taught worldwide
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- Global Stats Section -->
    <section class="py-20" style="background: transparent;">
      <div class="bc-container">
        <div class="rounded-3xl p-12 md:p-16 text-white" style="background: linear-gradient(135deg, var(--bc-primary-blue), #3a1570); box-shadow: 0 8px 32px rgba(35, 7, 90, 0.15);">
          <div class="text-center mb-12">
            <h2 class="text-3xl md:text-4xl font-bold mb-4" style="color: #ffffff;">Our Global Impact</h2>
            <p class="text-xl" style="color: rgba(255, 255, 255, 0.9);">Making a difference worldwide for over 90 years</p>
          </div>

          <div class="grid grid-cols-2 md:grid-cols-4 gap-8">
            <div class="text-center">
              <div class="text-4xl md:text-5xl font-bold mb-2" style="color: #ffffff;">100+</div>
              <div class="text-sm md:text-base" style="color: rgba(255, 255, 255, 0.85);">Countries Worldwide</div>
            </div>
            <div class="text-center">
              <div class="text-4xl md:text-5xl font-bold mb-2" style="color: #ffffff;">30,000+</div>
              <div class="text-sm md:text-base" style="color: rgba(255, 255, 255, 0.85);">Students per Year in Spain</div>
            </div>
            <div class="text-center">
              <div class="text-4xl md:text-5xl font-bold mb-2" style="color: #ffffff;">15</div>
              <div class="text-sm md:text-base" style="color: rgba(255, 255, 255, 0.85);">Centers Across Spain</div>
            </div>
            <div class="text-center">
              <div class="text-4xl md:text-5xl font-bold mb-2" style="color: #ffffff;">90+</div>
              <div class="text-sm md:text-base" style="color: rgba(255, 255, 255, 0.85);">Years of Excellence</div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Learning Resources Preview -->
    <section class="py-20" style="background: transparent;">
      <div class="bc-container">
        <div class="text-center mb-12">
          <h2 class="text-3xl md:text-4xl font-bold mb-4" style="color: var(--bc-primary-blue);">Free Learning Resources</h2>
          <p class="text-lg max-w-2xl mx-auto" style="color: var(--bc-dark-gray);">
            Access our extensive library of free resources to support your English learning
          </p>
        </div>

        <div class="grid md:grid-cols-4 gap-6">
          <a href="/resources/blog" class="resource-preview-card group block p-6 rounded-2xl text-center transition-all" style="background: var(--glass); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); border: 1px solid var(--line); box-shadow: var(--shadow-md);">
            <div class="w-14 h-14 mx-auto rounded-xl flex items-center justify-center mb-4" style="background: linear-gradient(135deg, rgba(232, 217, 245, 0.4), rgba(124, 77, 255, 0.2));">
              <svg class="w-7 h-7" style="color: var(--bc-primary-blue);" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"></path>
              </svg>
            </div>
            <h3 class="font-semibold mb-2 group-hover:text-pink-500 transition-colors" style="color: var(--bc-primary-blue);">Blog & Articles</h3>
            <p class="text-xs" style="color: var(--bc-dark-gray);">Expert tips and advice</p>
          </a>

          <a href="/resources/videos" class="resource-preview-card group block p-6 rounded-2xl text-center transition-all" style="background: var(--glass); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); border: 1px solid var(--line); box-shadow: var(--shadow-md);">
            <div class="w-14 h-14 mx-auto rounded-xl flex items-center justify-center mb-4" style="background: linear-gradient(135deg, rgba(255, 212, 232, 0.4), rgba(255, 20, 147, 0.2));">
              <svg class="w-7 h-7" style="color: var(--bc-primary-blue);" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"></path>
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
              </svg>
            </div>
            <h3 class="font-semibold mb-2 group-hover:text-pink-500 transition-colors" style="color: var(--bc-primary-blue);">Video Library</h3>
            <p class="text-xs" style="color: var(--bc-dark-gray);">Engaging video lessons</p>
          </a>

          <a href="/resources/games" class="resource-preview-card group block p-6 rounded-2xl text-center transition-all" style="background: var(--glass); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); border: 1px solid var(--line); box-shadow: var(--shadow-md);">
            <div class="w-14 h-14 mx-auto rounded-xl flex items-center justify-center mb-4" style="background: linear-gradient(135deg, rgba(255, 204, 224, 0.4), rgba(255, 153, 200, 0.2));">
              <svg class="w-7 h-7" style="color: var(--bc-primary-blue);" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
              </svg>
            </div>
            <h3 class="font-semibold mb-2 group-hover:text-pink-500 transition-colors" style="color: var(--bc-primary-blue);">Games & Activities</h3>
            <p class="text-xs" style="color: var(--bc-dark-gray);">Fun learning games</p>
          </a>

          <a href="/resources/podcasts" class="resource-preview-card group block p-6 rounded-2xl text-center transition-all" style="background: var(--glass); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); border: 1px solid var(--line); box-shadow: var(--shadow-md);">
            <div class="w-14 h-14 mx-auto rounded-xl flex items-center justify-center mb-4" style="background: linear-gradient(135deg, rgba(220, 198, 240, 0.4), rgba(166, 136, 199, 0.2));">
              <svg class="w-7 h-7" style="color: var(--bc-primary-blue);" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"></path>
              </svg>
            </div>
            <h3 class="font-semibold mb-2 group-hover:text-pink-500 transition-colors" style="color: var(--bc-primary-blue);">Podcasts</h3>
            <p class="text-xs" style="color: var(--bc-dark-gray);">Listen and learn</p>
          </a>
        </div>

        <div class="text-center mt-8">
          <a href="/resources" class="inline-flex items-center gap-2 text-base font-semibold hover:gap-3 transition-all" style="color: var(--bc-primary-blue);">
            <span>Explore all resources</span>
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"></path>
            </svg>
          </a>
        </div>
      </div>
    </section>

    <!-- Final CTA Section -->
    <section class="py-20" style="background: transparent;">
      <div class="bc-container">
        <div class="rounded-3xl p-12 md:p-16 text-center" style="background: linear-gradient(135deg, #e8d9f5 0%, #ffd4e8 100%); box-shadow: 0 8px 32px rgba(35, 7, 90, 0.08);">
          <h2 class="text-3xl md:text-4xl font-bold mb-4" style="color: var(--bc-primary-blue);">Ready to Start Your English Journey?</h2>
          <p class="text-xl mb-8" style="color: #5a3a77;">
            Join thousands of students who trust British Council Spain
          </p>
          <div class="flex flex-col sm:flex-row gap-4 justify-center">
            <Button href="/level-test" variant="primary" size="lg" class="text-lg">
              Take Free Level Test
            </Button>
            <Button href="/courses" variant="secondary" size="lg" class="text-lg">
              Explore All Courses
            </Button>
          </div>
        </div>
      </div>
    </section>
  </main>
</Layout>

<style>
  .pathway-card:hover {
    transform: translateY(-8px);
    box-shadow: 0 20px 40px rgba(23, 12, 70, 0.15);
  }

  .exam-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 12px 30px rgba(23, 12, 70, 0.12);
  }

  /* Fix text visibility for active English & Exams button */
  .event-type-btn.courses-btn.active {
    background: linear-gradient(135deg, var(--bc-primary-blue), #5a3a77) !important;
    color: white !important;
  }

  .event-type-btn.courses-btn.active .course-label,
  .event-type-btn.courses-btn.active svg {
    color: white !important;
  }

  .event-type-btn.courses-btn.active .course-dropdown {
    background: white !important;
    color: var(--bc-primary-blue) !important;
    border: 1px solid rgba(255, 255, 255, 0.3) !important;
  }

  .feature-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 12px 30px rgba(23, 12, 70, 0.12);
  }

  .testimonial-card {
    transition: all 0.3s ease;
  }

  .testimonial-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 12px 30px rgba(23, 12, 70, 0.15);
  }

  .resource-preview-card:hover {
    transform: translateY(-6px);
    box-shadow: 0 12px 30px rgba(23, 12, 70, 0.12);
  }

  /* Wall of Love Styles */
  .marquee-container {
    display: flex;
    overflow: hidden;
    user-select: none;
    gap: 16px;
  }

  .marquee-content {
    flex-shrink: 0;
    display: flex;
    gap: 16px;
    min-width: 100%;
    animation-timing-function: linear;
    animation-iteration-count: infinite;
  }

  .marquee-left {
    animation-name: scroll-left;
    animation-duration: 40s;
  }

  .marquee-right {
    animation-name: scroll-right;
    animation-duration: 40s;
  }

  @keyframes scroll-left {
    from {
      transform: translateX(0);
    }
    to {
      transform: translateX(-100%);
    }
  }

  @keyframes scroll-right {
    from {
      transform: translateX(-100%);
    }
    to {
      transform: translateX(0);
    }
  }

  .love-card {
    flex-shrink: 0;
    padding: 16px 20px;
    border-radius: 16px;
    background: linear-gradient(135deg, rgba(232, 217, 245, 0.4), rgba(255, 212, 232, 0.3));
    border: 1px solid rgba(142, 93, 184, 0.15);
    font-size: 14px;
    line-height: 1.5;
    color: var(--bc-primary-blue);
    max-width: 350px;
    box-shadow: 0 2px 8px rgba(35, 7, 90, 0.04);
    transition: all 0.3s ease;
  }

  .love-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 16px rgba(35, 7, 90, 0.08);
    background: linear-gradient(135deg, rgba(232, 217, 245, 0.6), rgba(255, 212, 232, 0.5));
  }

  .marquee-container:hover .marquee-content {
    animation-play-state: paused;
  }

  /* Calendar Styles */
  .calendar-day {
    transition: all 0.3s ease;
    position: relative;
  }

  .calendar-day:hover:not(.opacity-40) {
    transform: translateY(-2px);
    box-shadow: 0 8px 24px rgba(35, 7, 90, 0.1);
    z-index: 10;
  }

  .calendar-day.today {
    background: linear-gradient(135deg, rgba(255, 20, 147, 0.08), rgba(183, 148, 212, 0.05)) !important;
    animation: subtlePulse 3s infinite;
  }

  @keyframes subtlePulse {
    0%, 100% { box-shadow: 0 0 0 0 rgba(255, 20, 147, 0.2); }
    50% { box-shadow: 0 0 0 5px rgba(255, 20, 147, 0); }
  }

  .course-item {
    position: relative;
    overflow: hidden;
    margin-bottom: 2px;
  }

  .course-item::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 2px;
    height: 100%;
    background: linear-gradient(180deg, var(--bc-primary-blue), var(--bc-cta-pink));
    opacity: 0;
    transition: opacity 0.3s ease;
  }

  .course-item:hover::before {
    opacity: 1;
  }

  .course-item:last-child {
    margin-bottom: 0;
  }

  .special-offer {
    background: linear-gradient(135deg, rgba(255, 20, 147, 0.15), rgba(183, 148, 212, 0.1)) !important;
    border: 1px solid rgba(255, 20, 147, 0.25) !important;
    position: relative;
  }

  .offer-badge-inline {
    background: linear-gradient(135deg, #ff1493, #ff69b4);
    color: white;
    font-size: 9px;
    font-weight: bold;
    padding: 3px 8px;
    border-radius: 10px;
    box-shadow: 0 2px 8px rgba(255, 20, 147, 0.3);
    animation: pulse 2s infinite;
    white-space: nowrap;
  }

  @keyframes pulse {
    0% { transform: scale(1); }
    50% { transform: scale(1.05); }
    100% { transform: scale(1); }
  }

  .filter-btn {
    background: var(--glass);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border: 1px solid var(--line);
    color: var(--bc-dark-gray);
    cursor: pointer;
  }

  .filter-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(35, 7, 90, 0.08);
    border-color: rgba(183, 148, 212, 0.3);
  }

  .filter-btn.active {
    background: linear-gradient(135deg, var(--bc-primary-blue), #5a3a77);
    color: white;
    border: none;
    box-shadow: 0 4px 12px rgba(35, 7, 90, 0.2);
    transform: translateY(-2px);
  }

  .event-type-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(35, 7, 90, 0.15);
  }

  .course-type-dropdown:hover {
    border-color: rgba(183, 148, 212, 0.3);
    box-shadow: 0 4px 12px rgba(35, 7, 90, 0.08);
  }

  .course-type-dropdown:focus {
    outline: none;
    border-color: var(--bc-primary-blue);
    box-shadow: 0 0 0 3px rgba(35, 7, 90, 0.1);
  }

  .calendar-nav-btn {
    cursor: pointer;
    transition: all 0.3s ease;
  }

  .calendar-nav-btn:hover {
    background: rgba(183, 148, 212, 0.15);
  }

  .calendar-nav-btn:active {
    transform: scale(0.95);
  }

  @media (max-width: 768px) {
    .calendar-container {
      -webkit-overflow-scrolling: touch;
    }

    .calendar-day {
      min-width: 120px;
    }
  }

  /* Modal Styles */
  .modal-overlay {
    opacity: 0;
    transition: opacity 0.3s ease;
  }

  .modal-overlay.show {
    opacity: 1;
  }

  .modal-content {
    transform: scale(0.9) translateY(20px);
    opacity: 0;
    transition: all 0.3s ease;
  }

  .modal-overlay.show .modal-content {
    transform: scale(1) translateY(0);
    opacity: 1;
  }

  @keyframes modalEnter {
    from {
      opacity: 0;
      transform: scale(0.9) translateY(20px);
    }
    to {
      opacity: 1;
      transform: scale(1) translateY(0);
    }
  }
</style>

<script>
  window.currentMonth = 10; // November (0-indexed)
  window.currentYear = 2025;
  window.activeFilter = 'all';
  window.activeEventType = 'all';
  window.activeFixedTermFilter = 'all';

  // Course database with details
  const courseDatabase = {
    'Business English B2': {
      level: 'B2 Upper-Intermediate',
      category: 'Business',
      image: 'https://mktgfiles.britishcouncil.org/hubfs/Global%20-%20Future%20of%20English/Corporate%20English%20Solutions.jpg',
      price: '€210/month',
      description: 'Master professional English communication for the global business environment. This comprehensive course focuses on business vocabulary, formal presentations, email writing, and negotiation skills.',
      learningPoints: [
        'Professional email and report writing',
        'Business presentations and public speaking',
        'Meeting participation and leadership',
        'Negotiation tactics and strategies',
        'Industry-specific vocabulary'
      ]
    },
    'Kids 7-9': {
      level: 'Elementary',
      category: 'Children 7-9',
      image: 'https://mktgfiles.britishcouncil.org/hubfs/Photo%20of%20five%20children%20in%20a%20class.jpg',
      price: '€145/month',
      description: 'Fun and engaging English classes designed specifically for young learners. Using games, stories, and interactive activities to build confidence and foundational language skills.',
      learningPoints: [
        'Basic vocabulary through play',
        'Simple conversation skills',
        'Reading comprehension basics',
        'Creative storytelling',
        'Cultural awareness activities'
      ]
    },
    'General English A2': {
      level: 'A2 Elementary',
      category: 'Adults',
      image: 'https://mktgfiles.britishcouncil.org/hubfs/HD%20-%20Assets/FaceToFace/lp/images/f2f-adults-lp-hero.jpg',
      price: '€180/month',
      description: 'Build essential English skills for everyday communication. Perfect for beginners looking to develop confidence in speaking, listening, reading and writing.',
      learningPoints: [
        'Everyday conversation skills',
        'Basic grammar structures',
        'Essential vocabulary for daily life',
        'Simple reading and writing tasks',
        'Listening comprehension exercises'
      ]
    },
    'IELTS Preparation': {
      level: 'B2-C1',
      category: 'Exam Prep',
      image: 'https://mktgfiles.britishcouncil.org/hubfs/IELTS%20Coach-May-mail1.png',
      price: '€250/month',
      description: 'Comprehensive IELTS exam preparation with expert teachers. Includes practice tests, exam strategies, and personalized feedback to help you achieve your target score.',
      learningPoints: [
        'All four IELTS modules covered',
        'Exam techniques and time management',
        'Practice tests with detailed feedback',
        'Academic writing skills',
        'Speaking test simulation'
      ]
    },
    'Teen English 14-17': {
      level: 'B1 Intermediate',
      category: 'Teenagers',
      image: 'https://mktgfiles.britishcouncil.org/hubfs/Photo%20of%20five%20children%20in%20a%20class.jpg',
      price: '€165/month',
      description: 'Dynamic English classes for teenagers combining academic excellence with topics that interest and motivate young adults.',
      learningPoints: [
        'Academic English skills',
        'Critical thinking in English',
        'Digital literacy and online communication',
        'Creative project work',
        'Exam preparation support'
      ]
    },
    'Cambridge FCE Intensive': {
      level: 'B2 Upper-Intermediate',
      category: 'Exam Prep',
      image: 'https://mktgfiles.britishcouncil.org/hubfs/English%20-%20LearnEnglish/Level%20nurture/English%20-%20All%20-%20Learn%20English%20-%20Global%20-%20Level%20Test%20-%20Nurture%20-%20B1.jpg',
      price: '€280/month',
      description: 'Intensive preparation for the Cambridge First Certificate exam. Small groups ensure personalized attention and maximum practice opportunities.',
      learningPoints: [
        'Complete FCE exam coverage',
        'Weekly mock tests',
        'Writing correction service',
        'Speaking practice in pairs',
        'Grammar and vocabulary expansion'
      ]
    },
    'Weekend Intensive IELTS': {
      level: 'B1-C1',
      category: 'Weekend Special',
      image: 'https://mktgfiles.britishcouncil.org/hubfs/IELTS%20Coach-May-mail1.png',
      price: '€320/month',
      description: 'Perfect for busy professionals! Intensive IELTS preparation over weekends with 4-hour sessions covering all exam components.',
      learningPoints: [
        'Intensive weekend sessions',
        'Complete IELTS preparation',
        'Online resources access',
        'Personal study plan',
        'Progress tracking system'
      ]
    },
    'Conversation Club B1': {
      level: 'B1 Intermediate',
      category: 'Speaking Focus',
      image: 'https://mktgfiles.britishcouncil.org/hubfs/HD%20-%20Assets/FaceToFace/lp/images/f2f-adults-lp-hero.jpg',
      price: '€120/month',
      description: 'Boost your speaking confidence in a relaxed, supportive environment. Focus on fluency, pronunciation, and natural conversation skills.',
      learningPoints: [
        'Fluency development',
        'Pronunciation improvement',
        'Discussion skills',
        'Cultural topics',
        'Real-world scenarios'
      ]
    },
    'Business English C1': {
      level: 'C1 Advanced',
      category: 'Business',
      image: 'https://mktgfiles.britishcouncil.org/hubfs/Global%20-%20Future%20of%20English/Corporate%20English%20Solutions.jpg',
      price: '€240/month',
      description: 'Advanced business English for senior professionals. Focus on leadership communication, complex negotiations, and strategic presentations.',
      learningPoints: [
        'Executive communication skills',
        'Advanced negotiation techniques',
        'Strategic presentation delivery',
        'Cross-cultural business communication',
        'Professional networking in English'
      ]
    },
    'General English B1+': {
      level: 'B1+ Intermediate Plus',
      category: 'Adults',
      image: 'https://mktgfiles.britishcouncil.org/hubfs/HD%20-%20Assets/FaceToFace/lp/images/f2f-adults-lp-hero.jpg',
      price: '€195/month',
      description: 'Bridge the gap to upper-intermediate level with focused skill development and confidence building activities.',
      learningPoints: [
        'Complex grammar structures',
        'Expanded vocabulary range',
        'Debate and discussion skills',
        'Media comprehension',
        'Written communication skills'
      ]
    },
    'Kids Starters 4-6': {
      level: 'Pre-A1 Beginner',
      category: 'Children 4-6',
      image: 'https://mktgfiles.britishcouncil.org/hubfs/Photo%20of%20five%20children%20in%20a%20class.jpg',
      price: '€135/month',
      description: 'First steps in English for very young learners. Through songs, games, and creative activities, children develop a love for the language.',
      learningPoints: [
        'First English words and phrases',
        'Songs and rhymes',
        'Motor skills development',
        'Social interaction in English',
        'Creative arts and crafts'
      ]
    },
    'Saturday Kids Club': {
      level: 'Mixed Levels',
      category: 'Weekend Special',
      image: 'https://mktgfiles.britishcouncil.org/hubfs/Photo%20of%20five%20children%20in%20a%20class.jpg',
      price: '€95/month',
      description: 'Fun Saturday sessions combining English learning with creative activities, sports, and cultural exploration.',
      learningPoints: [
        'Project-based learning',
        'Team activities',
        'Creative workshops',
        'Cultural celebrations',
        'Outdoor learning experiences'
      ]
    },
    'Sunday Speaking Workshop': {
      level: 'B1-B2',
      category: 'Speaking Focus',
      image: 'https://mktgfiles.britishcouncil.org/hubfs/HD%20-%20Assets/FaceToFace/lp/images/f2f-adults-lp-hero.jpg',
      price: '€85/session',
      description: 'Intensive speaking workshops focusing on specific topics each week. Perfect for improving fluency and confidence.',
      learningPoints: [
        'Topic-based discussions',
        'Presentation skills',
        'Debate techniques',
        'Pronunciation workshops',
        'Real-life scenarios practice'
      ]
    },
    'Kids 4-6': {
      level: 'Pre-A1 Beginner',
      category: 'Children 4-6',
      image: 'https://mktgfiles.britishcouncil.org/hubfs/Photo%20of%20five%20children%20in%20a%20class.jpg',
      price: '€135/month',
      description: 'Playful introduction to English for young learners through interactive games, stories, and creative activities.',
      learningPoints: [
        'Basic vocabulary through play',
        'Simple songs and rhymes',
        'Listening skills development',
        'Fine motor skills activities',
        'Social interaction games'
      ]
    },
    // Webinars
    'Business Communication Webinar': {
      type: 'webinar',
      level: 'B2-C1',
      category: 'Webinar',
      image: 'https://mktgfiles.britishcouncil.org/hubfs/Global%20-%20Future%20of%20English/Corporate%20English%20Solutions.jpg',
      price: 'Free',
      description: 'Join our online webinar on effective business communication strategies in English.',
      learningPoints: [
        'Virtual meeting etiquette',
        'Email best practices',
        'Cross-cultural communication',
        'Remote presentation skills',
        'Q&A session with experts'
      ]
    },
    'IELTS Tips Webinar': {
      type: 'webinar',
      level: 'B1-C1',
      category: 'Webinar',
      image: 'https://mktgfiles.britishcouncil.org/hubfs/IELTS%20Coach-May-mail1.png',
      price: 'Free',
      description: 'Expert tips and strategies for maximizing your IELTS score.',
      learningPoints: [
        'Test format overview',
        'Time management strategies',
        'Common mistakes to avoid',
        'Practice resources',
        'Live Q&A session'
      ]
    },
    'Teaching Methods Webinar': {
      type: 'webinar',
      level: 'Teachers',
      category: 'Webinar',
      image: 'https://mktgfiles.britishcouncil.org/hubfs/HD%20-%20Assets/FaceToFace/lp/images/f2f-adults-lp-hero.jpg',
      price: 'Free',
      description: 'For English teachers: Latest methodologies and classroom techniques.',
      learningPoints: [
        'Digital classroom tools',
        'Student engagement techniques',
        'Assessment strategies',
        'Inclusive teaching methods',
        'Resource sharing'
      ]
    },
    // Cultural Events
    'British Film Night': {
      type: 'cultural',
      level: 'All Levels',
      category: 'Cultural Event',
      image: 'https://mktgfiles.britishcouncil.org/hubfs/English%20-%20LearnEnglish/Level%20nurture/English%20-%20All%20-%20Learn%20English%20-%20Global%20-%20Level%20Test%20-%20Nurture%20-%20B1.jpg',
      price: '€5',
      description: 'Watch classic and contemporary British films with English subtitles. Discussion session included.',
      learningPoints: [
        'British culture and history',
        'Listening comprehension',
        'Colloquial expressions',
        'Film discussion group',
        'Refreshments included'
      ]
    },
    'Tea & Conversation': {
      type: 'cultural',
      level: 'B1+',
      category: 'Cultural Event',
      image: 'https://mktgfiles.britishcouncil.org/hubfs/HD%20-%20Assets/FaceToFace/lp/images/f2f-adults-lp-hero.jpg',
      price: '€10',
      description: 'Traditional British afternoon tea with guided English conversation practice.',
      learningPoints: [
        'British tea traditions',
        'Informal conversation practice',
        'Cultural exchange',
        'Networking opportunity',
        'Traditional refreshments'
      ]
    },
    'Shakespeare Workshop': {
      type: 'cultural',
      level: 'B2-C1',
      category: 'Cultural Event',
      image: 'https://mktgfiles.britishcouncil.org/hubfs/English%20-%20LearnEnglish/Level%20nurture/English%20-%20All%20-%20Learn%20English%20-%20Global%20-%20Level%20Test%20-%20Nurture%20-%20B1.jpg',
      price: '€15',
      description: 'Interactive workshop exploring Shakespeare\'s language and its influence on modern English.',
      learningPoints: [
        'Shakespearean language',
        'Drama techniques',
        'Literary analysis',
        'Performance activities',
        'Historical context'
      ]
    },
    'British Music Night': {
      type: 'cultural',
      level: 'All Levels',
      category: 'Cultural Event',
      image: 'https://mktgfiles.britishcouncil.org/hubfs/HD%20-%20Assets/FaceToFace/lp/images/f2f-adults-lp-hero.jpg',
      price: '€8',
      description: 'Explore British music history from The Beatles to modern artists. Lyric analysis and karaoke included.',
      learningPoints: [
        'British music history',
        'Lyric comprehension',
        'Cultural movements',
        'Interactive karaoke',
        'Music vocabulary'
      ]
    }
  };

  // Course schedule - which courses are on which dates
  const courseSchedule = {
    // Monday courses (1st, 8th, 15th, 22nd, 29th of each month if it's a Monday)
    'monday': [
      { time: '09:00', name: 'Business English B2', duration: '09:00-11:00', type: 'course', fixedTerm: 'three-month', startDate: '2025-10-01', status: 'in-progress' },
      { time: '16:00', name: 'Kids 7-9', duration: '16:00-17:30', type: 'course', fixedTerm: 'academic-year', startDate: '2025-09-15', status: 'in-progress' },
      { time: '19:00', name: 'Business Communication Webinar', duration: '19:00-20:00', type: 'webinar' }
    ],
    'tuesday': [
      { time: '10:00', name: 'General English A2', duration: '10:00-12:00', type: 'course', fixedTerm: 'monthly', startDate: '2025-11-05', status: 'upcoming' },
      { time: '18:00', name: 'IELTS Preparation', duration: '18:00-20:00', type: 'course', fixedTerm: 'three-month', startDate: '2025-10-08', status: 'in-progress' },
      { time: '20:00', name: 'IELTS Tips Webinar', duration: '20:00-21:00', type: 'webinar' }
    ],
    'wednesday': [
      { time: '11:00', name: 'Conversation Club B1', duration: '11:00-12:30', type: 'course', fixedTerm: 'weekly', startDate: '2025-11-06', status: 'upcoming' },
      { time: '15:00', name: 'Tea & Conversation', duration: '15:00-17:00', type: 'cultural' },
      { time: '17:00', name: 'Teen English 14-17', duration: '17:00-19:00', type: 'course', fixedTerm: 'academic-year', startDate: '2025-09-20', status: 'in-progress' }
    ],
    'thursday': [
      { time: '09:00', name: 'Business English C1', duration: '09:00-11:00', type: 'course', fixedTerm: 'three-month', startDate: '2025-11-13', status: 'upcoming' },
      { time: '19:00', name: 'Cambridge FCE Intensive', duration: '19:00-21:00', special: 'NEW', type: 'course', fixedTerm: 'monthly', startDate: '2025-11-13', status: 'upcoming' },
      { time: '18:00', name: 'Teaching Methods Webinar', duration: '18:00-19:30', type: 'webinar' }
    ],
    'friday': [
      { time: '10:00', name: 'General English B1+', duration: '10:00-12:00', type: 'course', fixedTerm: 'monthly', startDate: '2025-10-18', status: 'in-progress' },
      { time: '16:30', name: 'Kids Starters 4-6', duration: '16:30-17:30', type: 'course', fixedTerm: 'academic-year', startDate: '2025-09-10', status: 'in-progress' },
      { time: '19:00', name: 'British Film Night', duration: '19:00-22:00', type: 'cultural' }
    ],
    'saturday': [
      { time: '09:00', name: 'Weekend Intensive IELTS', duration: '09:00-13:00', special: 'WEEKEND', type: 'course', fixedTerm: 'monthly', startDate: '2025-11-01', status: 'in-progress' },
      { time: '10:00', name: 'Saturday Kids Club', duration: '10:00-12:00', type: 'course', fixedTerm: 'weekly', startDate: '2025-11-08', status: 'upcoming' },
      { time: '14:00', name: 'Shakespeare Workshop', duration: '14:00-17:00', type: 'cultural' },
      { time: '19:00', name: 'British Music Night', duration: '19:00-21:00', type: 'cultural' }
    ],
    'sunday': [
      { time: '11:00', name: 'Sunday Speaking Workshop', duration: '11:00-13:00', type: 'course', fixedTerm: 'weekly', startDate: '2025-11-02', status: 'in-progress' }
    ]
  };

  // Make functions globally available
  window.previousMonth = function() {
    window.currentMonth--;
    if (window.currentMonth < 0) {
      window.currentMonth = 11;
      window.currentYear--;
    }
    updateMonthDisplay();
    animateCalendarTransition('left');

    // Reset filters when changing months
    if (window.activeFilter !== 'all') {
      window.activeFilter = 'all';
      const courseDropdown = document.getElementById('courseTypeFilter');
      if (courseDropdown) {
        courseDropdown.value = 'all';
      }
    }

    // Reset event type filter
    if (window.activeEventType !== 'all') {
      window.activeEventType = 'all';
      document.querySelectorAll('.event-type-btn').forEach(btn => {
        btn.classList.remove('active');
        btn.style.background = 'var(--glass)';
        btn.style.color = '';
      });
      const allEventsBtn = document.querySelector('.event-type-btn[onclick*="all"]');
      if (allEventsBtn) {
        allEventsBtn.classList.add('active');
        allEventsBtn.style.background = 'linear-gradient(135deg, var(--bc-primary-blue), #5a3a77)';
        allEventsBtn.style.color = 'white';
      }
    }

    // Reset fixed term filter
    if (window.activeFixedTermFilter !== 'all') {
      window.activeFixedTermFilter = 'all';
      const fixedTermDropdown = document.getElementById('fixedTermFilter');
      if (fixedTermDropdown) {
        fixedTermDropdown.value = 'all';
      }
    }
  }

  window.nextMonth = function() {
    window.currentMonth++;
    if (window.currentMonth > 11) {
      window.currentMonth = 0;
      window.currentYear++;
    }
    updateMonthDisplay();
    animateCalendarTransition('right');

    // Reset filters when changing months
    if (window.activeFilter !== 'all') {
      window.activeFilter = 'all';
      const courseDropdown = document.getElementById('courseTypeFilter');
      if (courseDropdown) {
        courseDropdown.value = 'all';
      }
    }

    // Reset event type filter
    if (window.activeEventType !== 'all') {
      window.activeEventType = 'all';
      document.querySelectorAll('.event-type-btn').forEach(btn => {
        btn.classList.remove('active');
        btn.style.background = 'var(--glass)';
        btn.style.color = '';
      });
      const allEventsBtn = document.querySelector('.event-type-btn[onclick*="all"]');
      if (allEventsBtn) {
        allEventsBtn.classList.add('active');
        allEventsBtn.style.background = 'linear-gradient(135deg, var(--bc-primary-blue), #5a3a77)';
        allEventsBtn.style.color = 'white';
      }
    }

    // Reset fixed term filter
    if (window.activeFixedTermFilter !== 'all') {
      window.activeFixedTermFilter = 'all';
      const fixedTermDropdown = document.getElementById('fixedTermFilter');
      if (fixedTermDropdown) {
        fixedTermDropdown.value = 'all';
      }
    }
  }

  function updateMonthDisplay() {
    const monthElement = document.getElementById('currentMonth');
    if (!monthElement) return;

    const monthNames = ['January', 'February', 'March', 'April', 'May', 'June',
                       'July', 'August', 'September', 'October', 'November', 'December'];

    monthElement.textContent = `${monthNames[window.currentMonth]} ${window.currentYear}`;
    generateCalendarDays();
  }

  function generateCalendarDays() {
    const calendarDays = document.getElementById('calendarDays');
    if (!calendarDays) return;

    const firstDay = new Date(window.currentYear, window.currentMonth, 1);
    const lastDay = new Date(window.currentYear, window.currentMonth + 1, 0);
    const prevLastDay = new Date(window.currentYear, window.currentMonth, 0);

    // Get the day of week for the first day (0 = Sunday)
    let startingDayOfWeek = firstDay.getDay();
    // Convert to Monday start (0 = Monday, 6 = Sunday)
    startingDayOfWeek = startingDayOfWeek === 0 ? 6 : startingDayOfWeek - 1;

    const daysInMonth = lastDay.getDate();
    const daysInPrevMonth = prevLastDay.getDate();

    const dayNames = ['monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday', 'sunday'];

    let html = '';
    let dayCounter = 1;

    // Add empty cells for days before month starts
    for (let i = startingDayOfWeek - 1; i >= 0; i--) {
      const prevMonthDay = daysInPrevMonth - i;
      html += `
        <div class="calendar-day min-h-[100px] p-2 rounded-xl opacity-40" style="background: var(--glass); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); border: 1px solid var(--line);">
          <div class="text-xs font-semibold mb-1" style="color: var(--bc-dark-gray);">${prevMonthDay}</div>
        </div>
      `;
    }

    // Add days of the current month
    for (let day = 1; day <= daysInMonth; day++) {
      const currentDate = new Date(window.currentYear, window.currentMonth, day);
      const dayOfWeek = currentDate.getDay();
      const dayName = dayNames[dayOfWeek === 0 ? 6 : dayOfWeek - 1];
      const isWeekend = dayOfWeek === 0 || dayOfWeek === 6;
      const isToday = isCurrentDay(currentDate);

      // Get courses for this day
      const todaysCourses = getCoursesByDayAndDate(dayName, day);

      html += `
        <div class="calendar-day min-h-[100px] p-2 rounded-xl ${isWeekend ? 'weekend' : ''} ${isToday ? 'today' : ''}"
             style="background: ${isWeekend ? 'linear-gradient(135deg, rgba(255, 212, 232, 0.08), rgba(255, 204, 224, 0.05))' : 'var(--glass)'};
                    backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px);
                    border: ${isToday ? '2px solid var(--bc-cta-pink)' : '1px solid ' + (isWeekend ? 'rgba(255, 158, 199, 0.15)' : 'var(--line)')};">
          <div class="text-xs font-bold mb-1" style="color: ${isToday ? 'var(--bc-cta-pink)' : 'var(--bc-dark-gray)'};">${day}</div>
          <div class="space-y-0.5 overflow-y-auto max-h-[80px]">
            ${todaysCourses}
          </div>
        </div>
      `;
    }

    // Add empty cells for days after month ends
    const totalCells = startingDayOfWeek + daysInMonth;
    const remainingCells = totalCells % 7 === 0 ? 0 : 7 - (totalCells % 7);

    for (let day = 1; day <= remainingCells; day++) {
      html += `
        <div class="calendar-day min-h-[100px] p-2 rounded-xl opacity-40" style="background: var(--glass); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); border: 1px solid var(--line);">
          <div class="text-xs font-semibold mb-1" style="color: var(--bc-dark-gray);">${day}</div>
        </div>
      `;
    }

    calendarDays.innerHTML = html;
  }

  function isCurrentDay(date) {
    const today = new Date();
    return date.getDate() === today.getDate() &&
           date.getMonth() === today.getMonth() &&
           date.getFullYear() === today.getFullYear();
  }

  function getCoursesByDayAndDate(dayName, dayOfMonth) {
    // Different distributions for each month to make it more realistic
    const octoberDistribution = {
      1: { monday: [0], tuesday: [], wednesday: [], thursday: [], friday: [], saturday: [], sunday: [] },
      2: { monday: [], tuesday: [0, 1], wednesday: [], thursday: [], friday: [], saturday: [], sunday: [] },
      3: { monday: [], tuesday: [], wednesday: [0], thursday: [], friday: [], saturday: [], sunday: [] },
      5: { monday: [], tuesday: [], wednesday: [], thursday: [], friday: [0], saturday: [0, 1], sunday: [] },
      6: { monday: [], tuesday: [], wednesday: [], thursday: [], friday: [], saturday: [], sunday: [0] },
      7: { monday: [0], tuesday: [], wednesday: [], thursday: [], friday: [], saturday: [], sunday: [] },
      8: { monday: [], tuesday: [], wednesday: [], thursday: [0, 1], friday: [], saturday: [], sunday: [] },
      9: { monday: [], tuesday: [0], wednesday: [], thursday: [], friday: [], saturday: [], sunday: [] },
      11: { monday: [], tuesday: [], wednesday: [], thursday: [], friday: [], saturday: [1], sunday: [] },
      12: { monday: [], tuesday: [], wednesday: [], thursday: [], friday: [], saturday: [], sunday: [0] },
      14: { monday: [0, 1], tuesday: [], wednesday: [], thursday: [], friday: [], saturday: [], sunday: [] },
      15: { monday: [], tuesday: [1], wednesday: [], thursday: [], friday: [], saturday: [], sunday: [] },
      16: { monday: [], tuesday: [], wednesday: [0, 1], thursday: [], friday: [], saturday: [], sunday: [] },
      17: { monday: [], tuesday: [], wednesday: [], thursday: [0], friday: [], saturday: [], sunday: [] },
      18: { monday: [], tuesday: [], wednesday: [], thursday: [], friday: [0, 1], saturday: [], sunday: [] },
      19: { monday: [], tuesday: [], wednesday: [], thursday: [], friday: [], saturday: [0], sunday: [] },
      20: { monday: [], tuesday: [], wednesday: [], thursday: [], friday: [], saturday: [], sunday: [0] },
      21: { monday: [1], tuesday: [], wednesday: [], thursday: [], friday: [], saturday: [], sunday: [] },
      22: { monday: [], tuesday: [0], wednesday: [], thursday: [1], friday: [], saturday: [], sunday: [] },
      23: { monday: [], tuesday: [], wednesday: [1], thursday: [], friday: [0], saturday: [], sunday: [] },
      25: { monday: [], tuesday: [], wednesday: [], thursday: [], friday: [], saturday: [0, 1], sunday: [] },
      26: { monday: [], tuesday: [], wednesday: [], thursday: [], friday: [], saturday: [], sunday: [0] },
      27: { monday: [0], tuesday: [], wednesday: [], thursday: [], friday: [], saturday: [], sunday: [] },
      28: { monday: [], tuesday: [0, 1], wednesday: [], thursday: [], friday: [], saturday: [], sunday: [] },
      29: { monday: [], tuesday: [], wednesday: [0], thursday: [0], friday: [], saturday: [], sunday: [] },
      30: { monday: [], tuesday: [], wednesday: [], thursday: [1], friday: [1], saturday: [], sunday: [] },
      31: { monday: [], tuesday: [], wednesday: [], thursday: [], friday: [], saturday: [], sunday: [] }
    };

    const novemberDistribution = {
      1: { monday: [], tuesday: [], wednesday: [], thursday: [], friday: [], saturday: [0, 3], sunday: [] },
      3: { monday: [0, 2], tuesday: [], wednesday: [], thursday: [], friday: [], saturday: [], sunday: [] },
      4: { monday: [], tuesday: [1, 2], wednesday: [], thursday: [], friday: [], saturday: [], sunday: [] },
      6: { monday: [], tuesday: [], wednesday: [], thursday: [0, 2], friday: [], saturday: [], sunday: [] },
      7: { monday: [], tuesday: [], wednesday: [], thursday: [], friday: [1, 2], saturday: [], sunday: [] },
      8: { monday: [], tuesday: [], wednesday: [], thursday: [], friday: [], saturday: [0, 1, 2], sunday: [] },
      10: { monday: [1], tuesday: [], wednesday: [], thursday: [], friday: [], saturday: [], sunday: [] },
      11: { monday: [], tuesday: [0], wednesday: [], thursday: [], friday: [], saturday: [], sunday: [] },
      12: { monday: [], tuesday: [], wednesday: [0, 1], thursday: [], friday: [], saturday: [], sunday: [] },
      13: { monday: [], tuesday: [], wednesday: [], thursday: [1], friday: [], saturday: [], sunday: [] },
      15: { monday: [], tuesday: [], wednesday: [], thursday: [], friday: [], saturday: [1, 3], sunday: [] },
      16: { monday: [], tuesday: [], wednesday: [], thursday: [], friday: [], saturday: [], sunday: [0] },
      17: { monday: [0, 2], tuesday: [], wednesday: [], thursday: [], friday: [], saturday: [], sunday: [] },
      18: { monday: [], tuesday: [1], wednesday: [], thursday: [], friday: [], saturday: [], sunday: [] },
      19: { monday: [], tuesday: [], wednesday: [1, 2], thursday: [], friday: [], saturday: [], sunday: [] },
      21: { monday: [], tuesday: [], wednesday: [], thursday: [], friday: [0, 2], saturday: [], sunday: [] },
      22: { monday: [], tuesday: [], wednesday: [], thursday: [], friday: [], saturday: [0, 2], sunday: [] },
      24: { monday: [1], tuesday: [], wednesday: [], thursday: [], friday: [], saturday: [], sunday: [] },
      25: { monday: [], tuesday: [0, 2], wednesday: [], thursday: [], friday: [], saturday: [], sunday: [] },
      26: { monday: [], tuesday: [], wednesday: [0, 1], thursday: [], friday: [], saturday: [], sunday: [] },
      27: { monday: [], tuesday: [], wednesday: [], thursday: [0], friday: [], saturday: [], sunday: [] },
      28: { monday: [], tuesday: [], wednesday: [], thursday: [], friday: [1], saturday: [], sunday: [] },
      29: { monday: [], tuesday: [], wednesday: [], thursday: [], friday: [], saturday: [1, 2, 3], sunday: [] },
      30: { monday: [], tuesday: [], wednesday: [], thursday: [], friday: [], saturday: [], sunday: [0] }
    };

    // Select distribution based on current month
    let courseDistribution;
    if (window.currentMonth === 9) { // October
      courseDistribution = octoberDistribution;
    } else if (window.currentMonth === 10) { // November
      courseDistribution = novemberDistribution;
    } else {
      // For other months, use a default sporadic pattern
      courseDistribution = octoberDistribution;
    }

    const courseDays = courseSchedule[dayName] || [];
    const todaysSchedule = courseDistribution[dayOfMonth]?.[dayName];

    if (!todaysSchedule || todaysSchedule.length === 0) {
      return '';
    }

    // Filter courses based on active filter
    const filteredCourses = todaysSchedule.map(courseIndex => {
      if (!courseDays[courseIndex]) return null;

      const course = courseDays[courseIndex];
      const courseData = courseDatabase[course.name];

      // Apply category filter
      if (window.activeFilter !== 'all') {
        const category = courseData?.category || '';

        if (window.activeFilter === 'adults' && !category.includes('Adults') && !category.includes('Speaking Focus') && !category.includes('Business')) return null;
        if (window.activeFilter === 'kids' && !category.includes('Children')) return null;
        if (window.activeFilter === 'teens' && !category.includes('Teen')) return null;
        if (window.activeFilter === 'business' && !category.includes('Business')) return null;
        if (window.activeFilter === 'exams' && !category.includes('Exam') && !course.name.includes('IELTS') && !course.name.includes('Cambridge')) return null;
      }

      // Apply event type filter
      if (window.activeEventType !== 'all') {
        const eventType = course.type || 'course';
        if (window.activeEventType === 'courses' && eventType !== 'course') return null;
        if (window.activeEventType === 'webinars' && eventType !== 'webinar') return null;
        if (window.activeEventType === 'cultural' && eventType !== 'cultural') return null;
        if (window.activeEventType === 'fixedterm' && !course.fixedTerm) return null;
      }

      // Apply fixed term filter
      if (window.activeFixedTermFilter !== 'all' && window.activeEventType === 'fixedterm') {
        if (!course.fixedTerm || course.fixedTerm !== window.activeFixedTermFilter) return null;
      }

      return { course, courseData, courseIndex };
    }).filter(Boolean);

    if (filteredCourses.length === 0) return '';

    return filteredCourses.map(({ course, courseData }) => {
      const categoryColor = getCategoryColor(courseData?.category);

      // Get event type icon
      let eventIcon = '';
      let eventBgColor = '';
      if (course.type === 'webinar') {
        eventIcon = '<svg class="w-3 h-3 inline-block mr-1" fill="currentColor" viewBox="0 0 20 20"><path d="M2 6a2 2 0 012-2h6a2 2 0 012 2v8a2 2 0 01-2 2H4a2 2 0 01-2-2V6zM14.553 7.106A1 1 0 0014 8v4a1 1 0 00.553.894l2 1A1 1 0 0018 13V7a1 1 0 00-1.447-.894l-2 1z"/></svg>';
        eventBgColor = 'rgba(16, 185, 129, 0.1)';
      } else if (course.type === 'cultural') {
        eventIcon = '<svg class="w-3 h-3 inline-block mr-1" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 2a1 1 0 011 1v1.323l3.954 1.582 1.599-.8a1 1 0 01.894 1.79l-1.233.616 1.738 5.42a1 1 0 01-.285 1.05A3.989 3.989 0 0115 15a3.989 3.989 0 01-2.667-1.019 1 1 0 01-.285-1.05l1.715-5.349L11 6.477V16h2a1 1 0 110 2H7a1 1 0 110-2h2V6.477L6.237 7.582l1.715 5.349a1 1 0 01-.285 1.05A3.989 3.989 0 015 15a3.989 3.989 0 01-2.667-1.019 1 1 0 01-.285-1.05l1.738-5.42-1.233-.617a1 1 0 01.894-1.788l1.599.799L9 4.323V3a1 1 0 011-1z" clip-rule="evenodd"/></svg>';
        eventBgColor = 'rgba(239, 68, 68, 0.1)';
      } else {
        eventIcon = '<svg class="w-3 h-3 inline-block mr-1" fill="currentColor" viewBox="0 0 20 20"><path d="M9 4.804A7.968 7.968 0 005.5 4c-1.255 0-2.443.29-3.5.804v10A7.969 7.969 0 015.5 14c1.669 0 3.218.51 4.5 1.385A7.962 7.962 0 0114.5 14c1.255 0 2.443.29 3.5.804v-10A7.968 7.968 0 0014.5 4c-1.255 0-2.443.29-3.5.804V12a1 1 0 11-2 0V4.804z"/></svg>';
        eventBgColor = '';
      }

      // Get status indicator (dot) if this is a fixed term course
      let statusIndicator = '';
      if (course.fixedTerm && course.status) {
        const dotColor = course.status === 'upcoming' ? '#22c55e' : '#ef4444';
        statusIndicator = `<span class="inline-block w-1.5 h-1.5 rounded-full ml-1" style="background: ${dotColor};"></span>`;
      }

      if (course.special) {
        return `
          <button class="course-item w-full text-left p-1 rounded hover:scale-105 transition-all special-offer"
                  onclick="showCourseDetails('${course.name}', '${course.duration}', '${dayName}')">
            <div class="flex items-center justify-between">
              <div class="flex-1">
                <div class="text-[10px] font-semibold flex items-center" style="color: var(--bc-primary-blue);">${eventIcon}${course.time}${statusIndicator}</div>
                <div class="text-[10px] truncate" style="color: ${categoryColor};">${course.name.length > 12 ? course.name.substring(0, 12) + '...' : course.name}</div>
              </div>
              <span class="text-[8px] px-1 py-0.5 rounded" style="background: linear-gradient(135deg, #ff1493, #ff69b4); color: white;">${course.special}</span>
            </div>
          </button>
        `;
      } else {
        const bgStyle = eventBgColor ?
          `background: ${eventBgColor}; border: 1px solid ${getCategoryBorder(courseData?.category)};` :
          `background: linear-gradient(135deg, ${getCategoryBackground(courseData?.category)}); border: 1px solid ${getCategoryBorder(courseData?.category)};`;

        return `
          <button class="course-item w-full text-left p-1 rounded hover:scale-105 transition-all"
                  style="${bgStyle}"
                  onclick="showCourseDetails('${course.name}', '${course.duration}', '${dayName}')">
            <div class="text-[10px] font-semibold flex items-center" style="color: var(--bc-primary-blue);">${eventIcon}${course.time}${statusIndicator}</div>
            <div class="text-[10px] truncate" style="color: ${categoryColor};">${course.name.length > 12 ? course.name.substring(0, 12) + '...' : course.name}</div>
          </button>
        `;
      }
    }).join('');
  }

  function getCategoryColor(category) {
    if (!category) return '#5a3a77';
    if (category.includes('Children') || category.includes('Teen')) return '#ff1493';
    if (category.includes('Exam')) return '#8e5db8';
    if (category.includes('Business')) return '#5a3a77';
    return '#5a3a77';
  }

  function getCategoryBackground(category) {
    if (!category) return 'rgba(183, 148, 212, 0.15), rgba(255, 158, 199, 0.1)';
    if (category.includes('Children') || category.includes('Teen')) return 'rgba(255, 212, 232, 0.2), rgba(255, 204, 224, 0.15)';
    if (category.includes('Exam')) return 'rgba(232, 217, 245, 0.3), rgba(220, 198, 240, 0.2)';
    return 'rgba(183, 148, 212, 0.15), rgba(255, 158, 199, 0.1)';
  }

  function getCategoryBorder(category) {
    if (!category) return 'rgba(183, 148, 212, 0.2)';
    if (category.includes('Children') || category.includes('Teen')) return 'rgba(255, 158, 199, 0.25)';
    if (category.includes('Exam')) return 'rgba(166, 136, 199, 0.3)';
    return 'rgba(183, 148, 212, 0.2)';
  }

  function animateCalendarTransition(direction) {
    const calendar = document.getElementById('calendarDays');
    if (!calendar) return;

    calendar.style.opacity = '0.3';
    calendar.style.transform = direction === 'left' ? 'translateX(20px)' : 'translateX(-20px)';

    setTimeout(() => {
      calendar.style.opacity = '1';
      calendar.style.transform = 'translateX(0)';
    }, 300);
  }

  window.showCourseDetails = function(courseName, time, day) {
    const modal = document.getElementById('courseModal');
    const courseData = courseDatabase[courseName] || courseDatabase['General English A2'];

    // Capitalize day name properly
    const dayCapitalized = day.charAt(0).toUpperCase() + day.slice(1);

    // Populate modal with course data
    document.getElementById('modalImage').src = courseData.image;
    document.getElementById('modalImage').alt = courseName;
    document.getElementById('modalTitle').textContent = courseName;
    document.getElementById('modalLevel').textContent = courseData.level;
    document.getElementById('modalCategory').textContent = courseData.category;
    document.getElementById('modalDay').textContent = `Every ${dayCapitalized}`;
    document.getElementById('modalTime').textContent = time;
    document.getElementById('modalPrice').textContent = courseData.price;
    document.getElementById('modalDescription').textContent = courseData.description;

    // Populate learning points
    const learningList = document.getElementById('modalLearning');
    learningList.innerHTML = '';
    courseData.learningPoints.forEach(point => {
      const li = document.createElement('li');
      li.className = 'flex items-start gap-2';
      li.innerHTML = `
        <svg class="w-4 h-4 flex-shrink-0 mt-0.5" style="color: #ff1493;" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
        </svg>
        <span class="text-sm" style="color: var(--bc-dark-gray);">${point}</span>
      `;
      learningList.appendChild(li);
    });

    // Show modal
    modal.classList.remove('hidden');
    setTimeout(() => {
      modal.classList.add('show');
    }, 10);
  }

  window.closeModal = function() {
    const modal = document.getElementById('courseModal');
    modal.classList.remove('show');
    setTimeout(() => {
      modal.classList.add('hidden');
    }, 300);
  }

  window.filterCourses = function(type) {
    // Update active filter
    window.activeFilter = type;

    // Regenerate calendar with filter applied
    generateCalendarDays();

    // Animate calendar
    const calendar = document.getElementById('calendarDays');
    if (calendar) {
      calendar.style.opacity = '0';
      setTimeout(() => {
        calendar.style.opacity = '1';
      }, 100);
    }
  }

  window.filterFixedTerm = function(type) {
    // Update active fixed term filter
    window.activeFixedTermFilter = type;

    // Regenerate calendar with filter applied
    generateCalendarDays();

    // Animate calendar
    const calendar = document.getElementById('calendarDays');
    if (calendar) {
      calendar.style.opacity = '0';
      setTimeout(() => {
        calendar.style.opacity = '1';
      }, 100);
    }
  }

  window.filterEventType = function(type, element) {
    // Update active event type filter
    window.activeEventType = type;

    // Hide all dropdowns first
    const courseDropdown = document.getElementById('courseTypeFilter');
    const fixedTermDropdown = document.getElementById('fixedTermFilter');
    const courseArrow = document.querySelector('.course-dropdown-arrow');
    const fixedTermArrow = document.querySelector('.fixed-term-dropdown-arrow');

    if (courseDropdown) courseDropdown.style.display = 'none';
    if (fixedTermDropdown) fixedTermDropdown.style.display = 'none';
    if (courseArrow) courseArrow.style.display = 'none';
    if (fixedTermArrow) fixedTermArrow.style.display = 'none';

    // Update active event type button
    document.querySelectorAll('.event-type-btn').forEach(btn => {
      btn.classList.remove('active');
      // Reset button styles
      btn.style.background = 'var(--glass)';
      btn.style.color = '';
    });

    // Find and style the active button
    const clickedBtn = element || event?.target;
    if (clickedBtn && clickedBtn.classList) {
      clickedBtn.classList.add('active');
      if (type === 'all') {
        clickedBtn.style.background = 'linear-gradient(135deg, var(--bc-primary-blue), #5a3a77)';
        clickedBtn.style.color = 'white';
      } else if (type === 'webinars') {
        clickedBtn.style.background = 'linear-gradient(135deg, #10b981, #059669)';
        clickedBtn.style.color = 'white';
      } else if (type === 'cultural') {
        clickedBtn.style.background = 'linear-gradient(135deg, #ef4444, #dc2626)';
        clickedBtn.style.color = 'white';
      } else if (type === 'fixedterm') {
        clickedBtn.style.background = 'linear-gradient(135deg, #8b5cf6, #7c3aed)';
        clickedBtn.style.color = 'white';
        // Show fixed term dropdown
        if (fixedTermDropdown) fixedTermDropdown.style.display = 'inline-block';
        if (fixedTermArrow) fixedTermArrow.style.display = 'block';
      } else if (type === 'courses') {
        clickedBtn.style.background = 'linear-gradient(135deg, var(--bc-primary-blue), #5a3a77)';
        clickedBtn.style.color = 'white';
        // Show course dropdown
        if (courseDropdown) courseDropdown.style.display = 'inline-block';
        if (courseArrow) courseArrow.style.display = 'block';
      } else {
        clickedBtn.style.background = 'linear-gradient(135deg, var(--bc-primary-blue), #5a3a77)';
        clickedBtn.style.color = 'white';
      }
    }

    // Regenerate calendar with filter applied
    generateCalendarDays();

    // Animate calendar
    const calendar = document.getElementById('calendarDays');
    if (calendar) {
      calendar.style.opacity = '0';
      setTimeout(() => {
        calendar.style.opacity = '1';
      }, 100);
    }
  }

  // Initialize on page load
  document.addEventListener('DOMContentLoaded', () => {
    updateMonthDisplay();

    // Add smooth transitions to calendar
    const calendarDays = document.getElementById('calendarDays');
    if (calendarDays) {
      calendarDays.style.transition = 'all 0.3s ease';
    }

    // Close modal on overlay click
    const modalOverlay = document.getElementById('courseModal');
    if (modalOverlay) {
      modalOverlay.addEventListener('click', function(e) {
        if (e.target === modalOverlay || e.target.classList.contains('modal-container')) {
          closeModal();
        }
      });
    }

    // Initialize carousel
    const track = document.getElementById('carouselTrack');
    const prevBtn = document.getElementById('prevBtn');
    const nextBtn = document.getElementById('nextBtn');
    const dots = document.querySelectorAll('.carousel-dot');

    let currentIndex = 0;
    const totalCards = 4;

    function updateCarousel() {
      const cardWidth = track.children[0].offsetWidth;
      const gap = 24; // 6 * 4 (gap-6 in Tailwind)
      const offset = -(currentIndex * (cardWidth + gap));

      track.style.transform = `translateX(${offset}px)`;

      // Update dots
      dots.forEach((dot, index) => {
        if (index === currentIndex) {
          dot.style.background = 'var(--bc-primary-blue)';
          dot.style.width = '24px';
        } else {
          dot.style.background = 'rgba(35, 7, 90, 0.3)';
          dot.style.width = '8px';
        }
      });

      // Update button states
      prevBtn.disabled = currentIndex === 0;
      nextBtn.disabled = currentIndex === totalCards - 1;
    }

    if (prevBtn && nextBtn) {
      prevBtn.addEventListener('click', () => {
        if (currentIndex > 0) {
          currentIndex--;
          updateCarousel();
        }
      });

      nextBtn.addEventListener('click', () => {
        if (currentIndex < totalCards - 1) {
          currentIndex++;
          updateCarousel();
        }
      });
    }

    // Dot navigation
    dots.forEach((dot, index) => {
      dot.addEventListener('click', () => {
        currentIndex = index;
        updateCarousel();
      });
    });

    // Initial state
    updateCarousel();
  });
</script>
